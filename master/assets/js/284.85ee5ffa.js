(window.webpackJsonp=window.webpackJsonp||[]).push([[284],{1084:function(t,e,r){t.exports=r.p+"assets/img/qgc_rtk_survey-in.9a497c55.png"},1085:function(t,e,r){t.exports=r.p+"assets/img/qgc_rtk_streaming.76200b22.png"},1086:function(t,e,r){t.exports=r.p+"assets/img/qgc_rtk_gps_status.ac046992.png"},1087:function(t,e,r){t.exports=r.p+"assets/img/settings_view_general_rtk_gps.74da8db3.jpg"},2631:function(t,e,r){"use strict";r.r(e);var s=r(18),o=Object(s.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"rtk-gps"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rtk-gps"}},[t._v("#")]),t._v(" RTK GPS")]),t._v(" "),s("p",[t._v("实时差分可以将 GNSS/GPS 的精度提高到厘米级。 装备 RTK 后可以将 PX4 应用到需要精确定位的精确测绘中。")]),t._v(" "),s("p",[t._v("你需要：")]),t._v(" "),s("ul",[s("li",[t._v("一对"),s("a",{attrs:{href:"#supported-rtk-devices"}},[t._v("RTK GPS 设备")]),t._v("（地面站和移动站）")]),t._v(" "),s("li",[t._v("一台装有 QGroundControl 的 "),s("em",[t._v("PC 或笔记本")]),t._v("（Android/iOS 的 QGroundControl 地面站不支持 RTK）")]),t._v(" "),s("li",[t._v("一架连接有 WiFi 或数传的飞机")])]),t._v(" "),s("div",{staticClass:"custom-block note"},[s("p",{staticClass:"custom-block-title"},[t._v("注解")]),t._v(" "),s("p",[s("em",[t._v("QGroundControl")]),t._v(" can theoretically enable RTK GPS for multiple vehicles (provided they each have a rover module). At time of writing this use case has not been tested.")])]),t._v(" "),s("h2",{attrs:{id:"支持的-rtk-设备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#支持的-rtk-设备"}},[t._v("#")]),t._v(" 支持的 RTK 设备")]),t._v(" "),s("p",[t._v("PX4 supports the "),s("a",{attrs:{href:"https://www.u-blox.com/en/product/neo-m8p",target:"_blank",rel:"noopener noreferrer"}},[t._v("u-blox M8P"),s("OutboundLink")],1),t._v(", "),s("a",{attrs:{href:"https://www.u-blox.com/en/product/zed-f9p-module",target:"_blank",rel:"noopener noreferrer"}},[t._v("u-blox F9P"),s("OutboundLink")],1),t._v(" and the "),s("a",{attrs:{href:"https://www.trimble.com/Precision-GNSS/MB-Two-Board.aspx",target:"_blank",rel:"noopener noreferrer"}},[t._v("Trimble MB-Two"),s("OutboundLink")],1),t._v(" GPS and products that incorporate it.")]),t._v(" "),s("p",[t._v("The following RTK-compatible devices have been tested.")]),t._v(" "),s("ul",[s("li",[s("RouterLink",{attrs:{to:"/zh/gps_compass/rtk_gps_cuav_c-rtk.html"}},[t._v("CUAV C-RTK GPS")])],1),t._v(" "),s("li",[s("RouterLink",{attrs:{to:"/zh/gps_compass/rtk_gps_drotek_xl.html"}},[t._v("Drotek XL RTK GPS")])],1),t._v(" "),s("li",[s("RouterLink",{attrs:{to:"/zh/gps_compass/rtk_gps_fem_mini2.html"}},[t._v("Femtones MINI2 Receiver")])],1),t._v(" "),s("li",[s("RouterLink",{attrs:{to:"/zh/gps_compass/rtk_gps_freefly.html"}},[t._v("Freefly RTK GPS")]),t._v(" (F9P)")],1),t._v(" "),s("li",[s("RouterLink",{attrs:{to:"/zh/gps_compass/rtk_gps_hex_hereplus.html"}},[t._v("Here+ RTK GPS")])],1),t._v(" "),s("li",[s("RouterLink",{attrs:{to:"/zh/gps_compass/rtk_gps_holybro_h-rtk-f9p.html"}},[t._v("Holybro H-RTK F9P GNSS")])],1),t._v(" "),s("li",[s("RouterLink",{attrs:{to:"/zh/gps_compass/rtk_gps_holybro_h-rtk-m8p.html"}},[t._v("Holybro H-RTK M8P GNSS")])],1),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.sparkfun.com/products/15136",target:"_blank",rel:"noopener noreferrer"}},[t._v("SparkFun GPS-RTK2 Board - ZED-F9P"),s("OutboundLink")],1),t._v(" (www.sparkfun.com)")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://store-drotek.com/911-1010-sirius-rtk-gnss-rover-f9p.html#/158-sensor-no_magnetometer",target:"_blank",rel:"noopener noreferrer"}},[t._v("SIRIUS RTK GNSS ROVER (F9P)"),s("OutboundLink")],1),t._v(" (store-drotek.com)")]),t._v(" "),s("li",[s("RouterLink",{attrs:{to:"/zh/gps_compass/rtk_gps_trimble_mb_two.html"}},[t._v("Trimble MB-Two")])],1)]),t._v(" "),s("div",{staticClass:"custom-block note"},[s("p",{staticClass:"custom-block-title"},[t._v("注解")]),t._v(" "),s("p",[t._v("Some RTK modules can only be used in a particular role (base or rover), while others can be used interchangeably.")])]),t._v(" "),s("h2",{attrs:{id:"硬件安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#硬件安装"}},[t._v("#")]),t._v(" 硬件安装")]),t._v(" "),s("h3",{attrs:{id:"rtk-移动站-飞机"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rtk-移动站-飞机"}},[t._v("#")]),t._v(" RTK 移动站（飞机）")]),t._v(" "),s("p",[t._v("Connect the vehicle-based module to the flight controller's GPS port (in the same way as any other GPS module).")]),t._v(" "),s("p",[t._v("The actual cables/connectors required will depend on the flight controller and selected RTK module (see "),s("a",{attrs:{href:"#supported-rtk-devices"}},[t._v("documentation for the selected device")]),t._v(" for more information).")]),t._v(" "),s("h3",{attrs:{id:"rtk-基站-地面端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rtk-基站-地面端"}},[t._v("#")]),t._v(" RTK 基站（地面端）")]),t._v(" "),s("p",[t._v("Connect the base module to "),s("em",[t._v("QGroundControl")]),t._v(" via USB. The base module must not be moved while it is being used.")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("Choose a position where it won't need to be moved, has a clear view of the sky, and is well separated from any buildings. Often it is helpful to elevate the base GPS, by using a tripod or mounting it on a roof.")])]),t._v(" "),s("h3",{attrs:{id:"电台-wifi"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#电台-wifi"}},[t._v("#")]),t._v(" 电台/WiFi")]),t._v(" "),s("p",[t._v("The vehicle and ground control laptop must be connected via "),s("RouterLink",{attrs:{to:"/zh/telemetry/"}},[t._v("wifi or a radio telemetry link")]),t._v(".")],1),t._v(" "),s("p",[t._v("The link "),s("em",[t._v("must")]),t._v(" use the MAVLink2 protocol as it makes more efficient use of the channel. This should be set by default, but if not, follow the "),s("a",{attrs:{href:"#mavlink2"}},[t._v("MAVLink2 configuration instructions")]),t._v(" below.")]),t._v(" "),s("h2",{attrs:{id:"rtk-连接步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rtk-连接步骤"}},[t._v("#")]),t._v(" RTK 连接步骤")]),t._v(" "),s("p",[t._v("The RTK GPS connection is essentially plug and play:")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("打开"),s("em",[t._v("QGroundControl")]),t._v("，使用 USB 连接基站的 RTK GPS 到地面站。 电脑会自动识别设备。")])]),t._v(" "),s("li",[s("p",[t._v("启动飞机，确保飞机连接上"),s("em",[t._v("QGroundControl")]),t._v("地面站。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("An RTK GPS status icon is displayed in the top icon bar while an RTK GPS device is connected (in addition to the normal GPS status icon). The icon is red while RTK is being set up, and then changes to white once RTK GPS is active. You can click the icon to see the current state and RTK accuracy.")])])])]),t._v(" "),s("p",[t._v(":::")]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[s("p",[t._v("然后 "),s("em",[t._v("QGroundControl")]),t._v(' 开始设置 RTK (称为 "测量")。')]),t._v(" "),s("p",[t._v("测量是一个获得基站准确位置的设置过程。 这个过程通常会需要几分钟（在达到"),s("a",{attrs:{href:"#rtk-gps-settings"}},[t._v("RTK 设置")]),t._v("中指定的最小时间和精度后结束）。")]),t._v(" "),s("p",[t._v("你也可以点击 RTK状态按钮查看。")]),t._v(" "),s("img",{attrs:{src:r(1084),width:"200px",title:"测量"}})]),t._v(" "),s("li",[s("p",[t._v("测量完成：")])])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("RTK GPS 图标变为白色，"),s("em",[t._v("QGroundControl")]),t._v("开始传送位置数据到飞机。")]),t._v(" "),s("img",{attrs:{src:r(1085),width:"200px",title:"RTK数据流"}})]),t._v(" "),s("li",[s("p",[t._v("飞机的 GPS 切换到 RTK 模式。 新的模式会显示在"),s("em",[t._v("普通")]),t._v("GPS 状态按钮的位置（"),s("code",[t._v("3D RTK GPS 锁定")]),t._v("）：")]),t._v(" "),s("p",[s("img",{attrs:{src:r(1086),alt:"RTK GPS状态"}})])])]),t._v(" "),s("h2",{attrs:{id:"px4-可用的设置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#px4-可用的设置"}},[t._v("#")]),t._v(" PX4 可用的设置")]),t._v(" "),s("p",[t._v("The following settings may need to be changed (using "),s("em",[t._v("QGroundControl")]),t._v(").")]),t._v(" "),s("h3",{attrs:{id:"rtk-gps-设置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rtk-gps-设置"}},[t._v("#")]),t._v(" RTK GPS 设置")]),t._v(" "),s("p",[t._v("The RTK GPS settings are specified in the "),s("em",[t._v("QGroundControl")]),t._v(" "),s("a",{attrs:{href:"https://docs.qgroundcontrol.com/en/SettingsView/General.html#rtk_gps",target:"_blank",rel:"noopener noreferrer"}},[t._v("General Settings"),s("OutboundLink")],1),t._v(" ("),s("strong",[t._v("SettingsView > General Settings > RTK GPS")]),t._v(").")]),t._v(" "),s("p",[s("img",{attrs:{src:r(1087),alt:"RTK GPS Setup"}})]),t._v(" "),s("p",[t._v('These settings define the minimum duration and minimum accuracy for completing the RTK GPS setup process (known as "Survey-In).')]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("You can save and reuse a base position in order to save time: perform Survey-In once, select "),s("em",[t._v("Use Specified Base Position")]),t._v(" and press "),s("strong",[t._v("Save Current Base Position")]),t._v(" to copy in the values for the last survey. The values will then persist across QGC reboots until they are changed.")])]),t._v(" "),s("h3",{attrs:{id:"mavlink2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mavlink2"}},[t._v("#")]),t._v(" MAVLink2")]),t._v(" "),s("p",[t._v("The MAVLink2 protocol must be used because it makes more efficient use of lower-bandwidth channels. This should be enabled by default on recent builds.")]),t._v(" "),s("p",[t._v("To ensure MAVLink2 is used:")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("将遥测模块固件更新到最新版本 (请参阅 QGroundControl> 设置 > 固件 "),t._v(")。")])]),s("p"),t._v(" "),s("ul",[s("li",[t._v("将 "),s("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#MAV_PROTO_VER"}},[t._v("MAV_PROTO_VER")]),t._v(" 设置为 2 (请参阅 < 1>QGroundControl 设置 > 参数 </1 >)")],1)])]),t._v(" "),s("h3",{attrs:{id:"调试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#调试"}},[t._v("#")]),t._v(" 调试")]),t._v(" "),s("p",[t._v("You may also need to tune some parameters as the default parameters are tuned assuming a GPS accuracy in the order of meters, not centimeters. For example, you can decrease "),s("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#EKF2_GPS_V_NOISE"}},[t._v("EKF2_GPS_V_NOISE")]),t._v(" and "),s("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#EKF2_GPS_P_NOISE"}},[t._v("EKF2_GPS_P_NOISE")]),t._v(" to 0.2.")],1),t._v(" "),s("h3",{attrs:{id:"use-rtk-gps-for-yaw"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#use-rtk-gps-for-yaw"}},[t._v("#")]),t._v(" Use RTK GPS for Yaw")]),t._v(" "),s("p",[t._v("Some RTK GPS units (i.e. with multiple antennas) can output a yaw angle, which can be used instead of the heading from the magnetic compass. To enable this, set bit position 7 in "),s("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#EKF2_AID_MASK"}},[t._v("EKF2_AID_MASK")]),t._v(" to 1 (add 128 to the parameter value).")],1),t._v(" "),s("h3",{attrs:{id:"双-gps-接收器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#双-gps-接收器"}},[t._v("#")]),t._v(" 双 GPS 接收器")]),t._v(" "),s("p",[t._v("A second GPS receiver can be used as a backup (either RTK or non RTK). See the "),s("RouterLink",{attrs:{to:"/zh/advanced_config/tuning_the_ecl_ekf.html#gps"}},[t._v("EKF2 GPS Configuration")]),t._v(" section.")],1)])}),[],!1,null,null,null);e.default=o.exports}}]);
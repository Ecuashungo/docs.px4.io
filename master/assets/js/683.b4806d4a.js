(window.webpackJsonp=window.webpackJsonp||[]).push([[683],{1308:function(t,e,a){t.exports=a.p+"assets/img/flightgear-multi-vehicle-sitl.ea4e8d57.jpg"},2594:function(t,e,a){"use strict";a.r(e);var r=a(18),s=Object(r.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"用-flightgear-进行多机仿真"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#用-flightgear-进行多机仿真"}},[t._v("#")]),t._v(" 用 FlightGear 进行多机仿真")]),t._v(" "),r("p",[t._v("本节介绍如何在SITL中使用 FlightGear 进行多机仿真 所有车辆实例都有其启动脚本定义的参数。")]),t._v(" "),r("blockquote",[r("p",[r("strong",[t._v("Note")]),t._v(" 这是运行PX4代码进行多机仿真最真实的方式， 并且能够方便地测试多种不同类型的无人机。 它适合使用 "),r("em",[t._v("QGroundControl")]),t._v("，"),r("a",{attrs:{href:"https://mavsdk.mavlink.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("MAVSDK"),r("OutboundLink")],1),t._v(" 等工具进行多机测试。 "),r("RouterLink",{attrs:{to:"/zh/simulation/multi-vehicle-simulation.html"}},[t._v("Gazebo 进行多机仿真")]),t._v(" 应改为用于使用许多车辆的种群模拟，并测试只有Gazebo支持的计算机视图等功能。")],1)]),t._v(" "),r("h2",{attrs:{id:"如何启动多机实例"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#如何启动多机实例"}},[t._v("#")]),t._v(" 如何启动多机实例")]),t._v(" "),r("p",[t._v("启动多个实例（使用单独的端口和 ID）：")]),t._v(" "),r("ol",[r("li",[t._v("确定 "),r("a",{attrs:{href:"https://github.com/ThunderFly-aerospace/PX4Firmware/tree/flightgear-multi",target:"_blank",rel:"noopener noreferrer"}},[t._v("支持多机的 PX4 分支"),r("OutboundLink")],1),t._v("（查阅ThunderFly-aerospace）："),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/ThunderFly-aerospace/PX4Firmware.git\n"),r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" PX4Firmware\n"),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout flightgear-multi  \n")])])])]),t._v(" "),r("li",[t._v("使用标准工具链构建PX4固件（并已安装 FlightGear）。")]),t._v(" "),r("li",[t._v("使用 "),r("a",{attrs:{href:"https://github.com/ThunderFly-aerospace/PX4-FlightGear-Bridge/tree/master/scripts",target:"_blank",rel:"noopener noreferrer"}},[t._v("预定义脚本"),r("OutboundLink")],1),t._v(" 启动第一个实例："),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" ./Tools/flightgear_bridge/scripts\n./vehicle1.sh\n")])])])]),t._v(" "),r("li",[t._v("使用另一个脚本开始后续实例："),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[t._v("./vehicle2.sh\n")])])])])]),t._v(" "),r("p",[t._v("每个实例都应该有自己的启动脚本，可以代表完全不同的载具类型。 对于准备好的脚本，你应该看到以下视图。")]),t._v(" "),r("p",[r("img",{attrs:{src:a(1308),alt:"使用 PX4 SITL 和 FlightGear 的多载具仿真"}})]),t._v(" "),r("p",[t._v("像 "),r("em",[t._v("QGroundControl")]),t._v(" 这样的地面站通过使用 UDP 14550 端口（所有流量都连接到同一端口）来连接所有实例的。")]),t._v(" "),r("p",[t._v("同时运行的实例数量主要受到计算机资源的限制。 FlightGear是一个单线程应用程序，但空气动力特性解算会消耗大量内存。 因此，可能需要（将任务）拆分到多台计算机并使用 "),r("a",{attrs:{href:"http://wiki.flightgear.org/index.php?title=Howto:Multiplayer",target:"_blank",rel:"noopener noreferrer"}},[t._v("多台用户服务器"),r("OutboundLink")],1),t._v(" 来运行"),r("em",[t._v("多个")]),t._v("载具实例。")]),t._v(" "),r("h2",{attrs:{id:"额外资源"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#额外资源"}},[t._v("#")]),t._v(" 额外资源")]),t._v(" "),r("ul",[r("li",[t._v("查看 "),r("RouterLink",{attrs:{to:"/zh/simulation/"}},[t._v("仿真")]),t._v(" 章节查看端口配置的更多信息。")],1)])])}),[],!1,null,null,null);e.default=s.exports}}]);
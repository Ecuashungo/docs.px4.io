(window.webpackJsonp=window.webpackJsonp||[]).push([[1099],{2317:function(t,e,i){"use strict";i.r(e);var _=i(18),o=Object(_.a)({},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[i("h1",{attrs:{id:"多旋翼设定值调整-轨迹生成器"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#多旋翼设定值调整-轨迹生成器"}},[t._v("#")]),t._v(" 多旋翼设定值调整（轨迹生成器）")]),t._v(" "),i("p",[t._v("本文概述了改变"),i("em",[t._v("用户体验")]),t._v("的多旋翼可调整参数：机体对摇杆运动或任务方向变化的反应速度、最大允许速度等。")]),t._v(" "),i("p",[t._v("换言之，本话题解释了如何调整那些影响"),i("em",[t._v("期望设定点")]),t._v("的参数，而不是那些影响机体"),i("em",[t._v("轨迹跟踪")]),t._v("性能的参数。")]),t._v(" "),i("p",[t._v("生成这些设定点的算法称为“轨迹生成器”。")]),t._v(" "),i("div",{staticClass:"custom-block warning"},[i("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),i("p",[t._v("This guide is for advanced users/experts.")])]),t._v(" "),i("div",{staticClass:"custom-block tip"},[i("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),i("p",[t._v("Follow the instructions in the "),i("RouterLink",{attrs:{to:"/zh/config_mc/pid_tuning_guide_multicopter.html"}},[t._v("Multicopter PID Tuning Guide")]),t._v(" "),i("em",[t._v("before")]),t._v(" doing any of the tuning described here. Do not use these tuning parameters to fix bad tracking or vibration!")],1)]),t._v(" "),i("h2",{attrs:{id:"综述"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#综述"}},[t._v("#")]),t._v(" 综述")]),t._v(" "),i("p",[t._v("The input to the P/PID controller is a "),i("em",[t._v("desired setpoint")]),t._v(" that the vehicle should attempt to track. "),i("RouterLink",{attrs:{to:"/zh/config_mc/pid_tuning_guide_multicopter.html"}},[t._v("PID Tuning")]),t._v(' ("Lower level tuning") aims to reduce the error between the desired setpoint and the estimate of the vehicle state.')],1),t._v(" "),i("p",[t._v("The "),i("em",[t._v("desired setpoint")]),t._v(" passed to the P/PID controller is itself calculated from a "),i("em",[t._v("demanded setpoint")]),t._v(' based on a stick position (in RC modes) or from a mission command. The demanded setpoint can change very quickly (e.g. if a user moves stick from zero to maximum value as a "step"). Vehicle flight characteristics are better if the corresponding desired setpoint changes as a "ramp".')]),t._v(" "),i("p",[i("em",[t._v("Setpoint value tuning")]),t._v(' ("higher level tuning") is used to specify the mapping between the '),i("em",[t._v("demanded")]),t._v(" and the "),i("em",[t._v("desired")]),t._v(' setpoints - i.e. defining the "ramp" at which the desired setpoint follows the demanded setpoint.')]),t._v(" "),i("div",{staticClass:"custom-block tip"},[i("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),i("p",[t._v("Poorly tuned "),i("RouterLink",{attrs:{to:"/zh/config_mc/pid_tuning_guide_multicopter.html"}},[t._v("P/PID Gains")]),t._v(" can lead to instability. Poorly tuned "),i("em",[t._v("setpoint values")]),t._v(" cannot result in instability, but may result in either very jerky or very unresponsive reactions to setpoint changes.")],1)]),t._v(" "),i("p",[i("span",{attrs:{id:"modes"}})]),t._v(" "),i("h2",{attrs:{id:"飞行模式轨迹支持"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#飞行模式轨迹支持"}},[t._v("#")]),t._v(" 飞行模式轨迹支持")]),t._v(" "),i("p",[i("RouterLink",{attrs:{to:"/zh/flight_modes/mission.html"}},[t._v("Mission mode")]),t._v(" used the "),i("RouterLink",{attrs:{to:"/zh/config_mc/mc_jerk_limited_type_trajectory.html"}},[t._v("Jerk-limited")]),t._v(" trajectory all the time.")],1),t._v(" "),i("p",[i("RouterLink",{attrs:{to:"/zh/flight_modes/position_mc.html"}},[t._v("Position mode")]),t._v(" supports all the "),i("a",{attrs:{href:"#trajectory_implementation"}},[t._v("trajectory types")]),t._v(" listed below. It uses the "),i("RouterLink",{attrs:{to:"/zh/config_mc/mc_jerk_limited_type_trajectory.html"}},[t._v("Jerk-limited")]),t._v(" trajectory by default; the other types can be set using "),i("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#MPC_POS_MODE"}},[t._v("MPC_POS_MODE")]),t._v(".")],1),t._v(" "),i("p",[i("RouterLink",{attrs:{to:"/zh/flight_modes/altitude_mc.html"}},[t._v("Altitude mode")]),t._v(" similarly uses the "),i("a",{attrs:{href:"#trajectory_implementation"}},[t._v("trajectory types")]),t._v(" selected by "),i("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#MPC_POS_MODE"}},[t._v("MPC_POS_MODE")]),t._v(", but "),i("em",[t._v("only")]),t._v(" for smoothing the vertical component (i.e. when controlling the altitude).")],1),t._v(" "),i("p",[t._v("No other modes support trajectory tuning.")]),t._v(" "),i("p",[i("span",{attrs:{id:"trajectory_implementation"}})]),t._v(" "),i("h2",{attrs:{id:"轨迹实现"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#轨迹实现"}},[t._v("#")]),t._v(" 轨迹实现")]),t._v(" "),i("p",[t._v("The following list provides an "),i("em",[t._v("overview")]),t._v(" of the different trajectory implementations:")]),t._v(" "),i("ul",[i("li",[i("RouterLink",{attrs:{to:"/zh/config_mc/mc_jerk_limited_type_trajectory.html"}},[t._v("加加速度限制型")]),t._v(" （默认）\n"),i("ul",[i("li",[t._v("当需要平滑运动时使用（例如：航拍、测绘、货运）。")]),t._v(" "),i("li",[t._v("生成对称平滑 S-曲线，使加加速度和加速度的极限始终得到保证。")]),t._v(" "),i("li",[t._v("可能不适合于那些需要较快响应的机体/使用案例——例如穿越机。")]),t._v(" "),i("li",[t._v("通过设置 "),i("code",[t._v("MPC_POS_MODE=3")]),t._v(" 在位置模式中启用。")])])],1),t._v(" "),i("li",[i("RouterLink",{attrs:{to:"/zh/config_mc/mc_slew_rate_type_trajectory.html"}},[t._v("旋转速率型")]),t._v(" "),i("ul",[i("li",[t._v("当快速响应比平滑运动更重要时使用（例如：位置保持状态下的激烈飞行)。")]),t._v(" "),i("li",[t._v("这是一个简单的实现方法，在这种情况下，加加速度和加速度通过旋转速率进行限制。")]),t._v(" "),i("li",[t._v("它允许基于用户意图的不对称配置（平稳加速和快速停止）。")]),t._v(" "),i("li",[t._v("加加速度和加速度限制不是硬性约束。")]),t._v(" "),i("li",[t._v("通过设置 "),i("code",[t._v("MPC_POS_MODE=1")]),t._v(" 在位置模式中启用。")])])],1),t._v(" "),i("li",[i("strong",[t._v("简单位置控制")]),t._v(" "),i("ul",[i("li",[t._v("将摇杆直接映射为速度设置值而不进行平滑处理。")]),t._v(" "),i("li",[t._v("对速度控制调整非常有用。")]),t._v(" "),i("li",[t._v("通过设置 "),i("code",[t._v("MPC_POS_MODE=0")]),t._v(" 在位置模式中启用。")])])])])])}),[],!1,null,null,null);e.default=o.exports}}]);
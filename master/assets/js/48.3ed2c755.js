(window.webpackJsonp=window.webpackJsonp||[]).push([[48,84],{1268:function(t,a,e){t.exports=e.p+"assets/img/gazebo_follow.63ac701a.jpg"},1269:function(t,a,e){t.exports=e.p+"assets/img/sitl_video_stream.f6092293.png"},1270:function(t,a,e){t.exports=e.p+"assets/img/qgc_gazebo_video_stream_udp.47655229.png"},1271:function(t,a,e){t.exports=e.p+"assets/img/qgc_gazebo_video_stream_typhoon.a55b4228.jpg"},1373:function(t,a,e){"use strict";e.r(a);var s=e(18),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"gazebo-机型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gazebo-机型"}},[t._v("#")]),t._v(" Gazebo 机型")]),t._v(" "),s("p",[t._v("This topic lists/displays the vehicles supported by the PX4 "),s("RouterLink",{attrs:{to:"/zh/simulation/gazebo.html"}},[t._v("Gazebo")]),t._v(" simulation and the "),s("code",[t._v("make")]),t._v(" commands required to run them (the commands are run from a terminal in the "),s("strong",[t._v("PX4-Autopilot")]),t._v(" directory).")],1),t._v(" "),s("p",[t._v("支持的机型种类包括：多旋翼、VTOL、尾座式 VTOL、固定翼、无人车、潜艇/无人水下航行器。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("For the full list of build targets run "),s("code",[t._v("make px4_sitl list_vmd_make_targets")]),t._v(" (and filter on those that start with "),s("code",[t._v("gazebo_")]),t._v(").")])]),t._v(" "),s("div",{staticClass:"custom-block note"},[s("p",{staticClass:"custom-block-title"},[t._v("注解")]),t._v(" "),s("p",[t._v("The "),s("RouterLink",{attrs:{to:"/zh/simulation/gazebo.html"}},[t._v("Gazebo")]),t._v(" page shows how to install Gazebo, how to enable video and load custom maps, and many other configuration options.")],1)]),t._v(" "),s("h2",{attrs:{id:"多旋翼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#多旋翼"}},[t._v("#")]),t._v(" 多旋翼")]),t._v(" "),s("p",[s("a",{attrs:{id:"quadrotor"}})]),t._v(" "),s("h3",{attrs:{id:"四旋翼-默认"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四旋翼-默认"}},[t._v("#")]),t._v(" 四旋翼（默认）")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" px4_sitl gazebo\n")])])]),s("p",[s("a",{attrs:{id:"quadrotor_optical_flow"}})]),t._v(" "),s("h3",{attrs:{id:"带光流的四旋翼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#带光流的四旋翼"}},[t._v("#")]),t._v(" 带光流的四旋翼")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" px4_sitl gazebo_iris_opt_flow\n")])])]),s("p",[s("a",{attrs:{id:"3dr_solo"}})]),t._v(" "),s("h3",{attrs:{id:"_3dr-solo-四旋翼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3dr-solo-四旋翼"}},[t._v("#")]),t._v(" 3DR Solo（四旋翼）")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" px4_sitl gazebo_solo\n")])])]),s("p",[s("img",{attrs:{src:e(391),alt:"固定翼的 Gazebo 仿真"}})]),t._v(" "),s("p",[s("a",{attrs:{id:"typhoon_h480"}})]),t._v(" "),s("h3",{attrs:{id:"typhoon-h480-六旋翼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#typhoon-h480-六旋翼"}},[t._v("#")]),t._v(" Typhoon H480（六旋翼）")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("make px4_sitl gazebo_typhoon_h480\n")])])]),s("p",[s("img",{attrs:{src:e(392),alt:"Typhoon H480 in Gazebo"}})]),t._v(" "),s("div",{staticClass:"custom-block note"},[s("p",{staticClass:"custom-block-title"},[t._v("注解")]),t._v(" "),s("p",[t._v("This target also supports "),s("a",{attrs:{href:"#video"}},[t._v("video streaming simulation")]),t._v(".")])]),t._v(" "),s("p",[s("a",{attrs:{id:"fixed_wing"}})]),t._v(" "),s("h2",{attrs:{id:"plane-fixed-wing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#plane-fixed-wing"}},[t._v("#")]),t._v(" Plane/Fixed Wing")]),t._v(" "),s("p",[s("a",{attrs:{id:"standard_plane"}})]),t._v(" "),s("h3",{attrs:{id:"标准构型的固定翼飞机"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#标准构型的固定翼飞机"}},[t._v("#")]),t._v(" 标准构型的固定翼飞机")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" px4_sitl gazebo_plane\n")])])]),s("p",[s("img",{attrs:{src:e(393),alt:"标准构型的 VTOL"}})]),t._v(" "),s("p",[s("a",{attrs:{id:"standard_plane_catapult"}})]),t._v(" "),s("h4",{attrs:{id:"standard-plane-with-catapult-launch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#standard-plane-with-catapult-launch"}},[t._v("#")]),t._v(" Standard Plane with Catapult Launch")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" px4_sitl gazebo_plane_catapult\n")])])]),s("p",[t._v("This model simulates hand/catapult launch, which can be used for "),s("RouterLink",{attrs:{to:"/zh/flying/fixed_wing_takeoff.html#fixed-wing-takeoff"}},[t._v("fixed wing takeoff")]),t._v(" in position mode, takeoff mode, or missions.")],1),t._v(" "),s("p",[t._v("The plane will automatically be launched as soon as the vehicle is armed.")]),t._v(" "),s("h2",{attrs:{id:"垂直起降"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#垂直起降"}},[t._v("#")]),t._v(" 垂直起降")]),t._v(" "),s("p",[s("a",{attrs:{id:"standard_vtol"}})]),t._v(" "),s("h3",{attrs:{id:"标准垂起"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#标准垂起"}},[t._v("#")]),t._v(" 标准垂起")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" px4_sitl gazebo_standard_vtol\n")])])]),s("p",[s("img",{attrs:{src:e(394),alt:"探测车"}})]),t._v(" "),s("p",[s("a",{attrs:{id:"tailsitter_vtol"}})]),t._v(" "),s("h3",{attrs:{id:"尾座式垂起"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#尾座式垂起"}},[t._v("#")]),t._v(" 尾座式垂起")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" px4_sitl gazebo_tailsitter\n")])])]),s("p",[s("img",{attrs:{src:e(395),alt:"潜艇 /UUV"}})]),t._v(" "),s("p",[s("a",{attrs:{id:"ugv"}})]),t._v(" "),s("h2",{attrs:{id:"unmmanned-ground-vehicle-ugv-rover-car"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unmmanned-ground-vehicle-ugv-rover-car"}},[t._v("#")]),t._v(" Unmmanned Ground Vehicle (UGV/Rover/Car)")]),t._v(" "),s("p",[s("a",{attrs:{id:"ugv_ackerman"}})]),t._v(" "),s("h3",{attrs:{id:"ackerman-ugv"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ackerman-ugv"}},[t._v("#")]),t._v(" Ackerman UGV")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" px4_sitl gazebo_rover\n")])])]),s("p",[s("img",{attrs:{src:e(396),alt:"船/USV"}})]),t._v(" "),s("p",[s("a",{attrs:{id:"ugv_differential"}})]),t._v(" "),s("h3",{attrs:{id:"differential-ugv"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#differential-ugv"}},[t._v("#")]),t._v(" Differential UGV")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" px4_sitl gazebo_r1_rover\n")])])]),s("p",[s("img",{attrs:{src:e(397),alt:"旋翼机"}})]),t._v(" "),s("p",[s("a",{attrs:{id:"uuv"}})]),t._v(" "),s("h2",{attrs:{id:"unmanned-underwater-vehicle-uuv-submarine"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unmanned-underwater-vehicle-uuv-submarine"}},[t._v("#")]),t._v(" Unmanned Underwater Vehicle (UUV/Submarine)")]),t._v(" "),s("p",[s("a",{attrs:{id:"uuv_hippocampus"}})]),t._v(" "),s("h3",{attrs:{id:"hippocampus-tuhh-uuv"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hippocampus-tuhh-uuv"}},[t._v("#")]),t._v(" HippoCampus TUHH UUV")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" px4_sitl gazebo_uuv_hippocampus\n")])])]),s("p",[s("img",{attrs:{src:e(398),alt:"Submarine/UUV"}})]),t._v(" "),s("p",[s("a",{attrs:{id:"usv"}})]),t._v(" "),s("h2",{attrs:{id:"unmanned-surface-vehicle-usv-boat"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unmanned-surface-vehicle-usv-boat"}},[t._v("#")]),t._v(" Unmanned Surface Vehicle (USV/Boat)")]),t._v(" "),s("p",[s("a",{attrs:{id:"usv_boat"}})]),t._v(" "),s("h3",{attrs:{id:"船舶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#船舶"}},[t._v("#")]),t._v(" 船舶")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" px4_sitl gazebo_boat\n")])])]),s("p",[s("img",{attrs:{src:e(399),alt:"Boat/USV"}})]),t._v(" "),s("p",[s("a",{attrs:{id:"airship"}})]),t._v(" "),s("h2",{attrs:{id:"旋翼机"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#旋翼机"}},[t._v("#")]),t._v(" 旋翼机")]),t._v(" "),s("p",[s("a",{attrs:{id:"cloudship"}})]),t._v(" "),s("h3",{attrs:{id:"cloudship"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cloudship"}},[t._v("#")]),t._v(" Cloudship")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" px4_sitl gazebo_cloudship\n")])])]),s("p",[s("img",{attrs:{src:e(400),alt:"Airship"}})])])}),[],!1,null,null,null);a.default=r.exports},2614:function(t,a,e){"use strict";e.r(a);var s=e(18),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"gazebo-仿真模拟"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gazebo-仿真模拟"}},[t._v("#")]),t._v(" Gazebo 仿真模拟")]),t._v(" "),s("p",[s("a",{attrs:{href:"http://gazebosim.org",target:"_blank",rel:"noopener noreferrer"}},[t._v(" Gazebo "),s("OutboundLink")],1),t._v("是用于自主机器人的强大3D模拟环境，其特别适用于测试物体避障和计算机视觉。 本页描述了它与 SITL 和单一设备的使用。 Gazebo 也可以与"),s("RouterLink",{attrs:{to:"/zh/simulation/hitl.html"}},[t._v(" HITL ")]),t._v("和"),s("RouterLink",{attrs:{to:"/zh/simulation/multi-vehicle-simulation.html"}},[t._v("多机仿真")]),t._v("一起使用。")],1),t._v(" "),s("p",[t._v("**支持机型：**四旋翼 ("),s("RouterLink",{attrs:{to:"/zh/airframes/airframe_reference.html#copter_quadrotor_wide_3dr_iris_quadrotor"}},[t._v("Iris")]),t._v(" 和 "),s("RouterLink",{attrs:{to:"/zh/airframes/airframe_reference.html#copter_quadrotor_x_3dr_solo"}},[t._v("Solo")]),t._v(")，六旋翼 (Typhoon h480)，"),s("RouterLink",{attrs:{to:"/zh/airframes/airframe_reference.html#vtol_standard_vtol_generic_quad_delta_vtol"}},[t._v("通用四旋翼 delta VTOL 无人机")]),t._v("，尾翼，飞机，探测车，潜艇（即将推出！）")],1),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("Gazebo is often used with "),s("RouterLink",{attrs:{to:"/zh/ros/"}},[t._v("ROS")]),t._v(", a toolkit/offboard API for automating vehicle control. If you plan to use PX4 with ROS you "),s("strong",[t._v("should follow the")]),t._v(" "),s("RouterLink",{attrs:{to:"/zh/simulation/ros_interface.html"}},[t._v("ROS Instructions")]),t._v(" to install both ROS and Gazebo (and thereby avoid installation conflicts).")],1)]),t._v(" "),s("p"),s("div",{staticClass:"embed-responsive embed-responsive-16by9"},[s("iframe",{staticClass:"embed-responsive-item youtube-player",attrs:{type:"text/html",width:"640",height:"390",src:"https://www.youtube.com/embed/qfFF9-0k4KA",frameborder:"0",webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:""}})]),s("p"),t._v(" "),s("p",[s("a",{attrs:{href:"https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiZ3JhcGggTFI7XG4gIEdhemViby0tPlBsdWdpbjtcbiAgUGx1Z2luLS0-TUFWTGluaztcbiAgTUFWTGluay0tPlNJVEw7IiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifSwidXBkYXRlRWRpdG9yIjpmYWxzZX0",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://mermaid.ink/img/eyJjb2RlIjoiZ3JhcGggTFI7XG4gIEdhemViby0tPlBsdWdpbjtcbiAgUGx1Z2luLS0-TUFWTGluaztcbiAgTUFWTGluay0tPlNJVEw7IiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifSwidXBkYXRlRWRpdG9yIjpmYWxzZX0",alt:"Mermaid Graph: Gazebo plugin"}}),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"custom-block note"},[s("p",{staticClass:"custom-block-title"},[t._v("注解")]),t._v(" "),s("p",[t._v("See "),s("RouterLink",{attrs:{to:"/zh/simulation/"}},[t._v("Simulation")]),t._v(" for general information about simulators, the simulation environment, and simulation configuration (e.g. supported vehicles).")],1)]),t._v(" "),s("p",[s("a",{attrs:{id:"installation"}})]),t._v(" "),s("h2",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),s("p",[t._v("您可以通过启动 PX4 SITL和 Gazebo 来运行模拟，并加载机身配置（支持多旋翼飞机，飞机，VTOL，光流和多机仿真）。")]),t._v(" "),s("ul",[s("li",[t._v("** macOS：** "),s("RouterLink",{attrs:{to:"/zh/setup/dev_env_mac.html"}},[t._v(" Mac 上的开发环境")])],1),t._v(" "),s("li",[t._v("** Linux：** "),s("RouterLink",{attrs:{to:"/zh/setup/dev_env_linux.html#jmavsimgazebo-simulation"}},[t._v(" Linux 上的开发环境（Ubuntu 16.04）> jMAVSim / Gazebo Simulation ")])],1),t._v(" "),s("li",[t._v("** Windows：**不支持。")])]),t._v(" "),s("p",[t._v("Additional installation instructions can be found on "),s("a",{attrs:{href:"http://gazebosim.org/tutorials?cat=guided_b&tut=guided_b1",target:"_blank",rel:"noopener noreferrer"}},[t._v("gazebosim.org"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("h2",{attrs:{id:"运行仿真"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行仿真"}},[t._v("#")]),t._v(" 运行仿真")]),t._v(" "),s("p",[t._v("下文列出了支持的载具类型及对应的 "),s("code",[t._v("make")]),t._v(" 指令（点击链接查看载具图像）。")]),t._v(" "),s("p",[t._v("以上指令启动了一个具有完整 UI 的载具。 其他选项包括：")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" ~/src/Firmware\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" px4_sitl gazebo\n")])])]),s("p",[t._v("通过终端运行 gazebo（或任何其他 sim）服务器和客户端查看器： "),s("code",[t._v("make px4_sitl gazebo_none_ide")])]),t._v(" "),s("div",{staticClass:"custom-block note"},[s("p",{staticClass:"custom-block-title"},[t._v("注解")]),t._v(" "),s("p",[t._v("For the full list of build targets run "),s("code",[t._v("make px4_sitl list_vmd_make_targets")]),t._v(" (and filter on those that start with "),s("code",[t._v("gazebo_")]),t._v(").")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("探测车")]),t._v(" "),s("th",[t._v("指令")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("RouterLink",{attrs:{to:"/zh/simulation/gazebo_vehicles.html#quadrotor"}},[t._v("飞行器")])],1),t._v(" "),s("td",[t._v("`make clean")])]),t._v(" "),s("tr",[s("td",[t._v("make px4_sitl gazebo_typhoon_h480`")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("RouterLink",{attrs:{to:"/zh/simulation/gazebo_vehicles.html#quadrotor_optical_flow"}},[t._v("具有光流的四旋翼")])],1),t._v(" "),s("td",[s("code",[t._v("make px4_sitl gazebo_iris_opt_flow")])])]),t._v(" "),s("tr",[s("td",[s("RouterLink",{attrs:{to:"/zh/simulation/gazebo_vehicles.html#3dr_solo"}},[t._v("3DR Solo in Gazebo")])],1),t._v(" "),s("td",[s("code",[t._v("make px4_sitl gazebo_solo")])])]),t._v(" "),s("tr",[s("td",[t._v("!!crwdBlockTags_82_sgaTkcolBdwrc!"),s("img",{attrs:{src:e(1373)+"#typhoon_h480",alt:"Typhoon H480 (Hexrotor)"}}),t._v(" (supports video streaming)")]),t._v(" "),s("td",[s("code",[t._v("make px4_sitl gazebo_typhoon_h480")])])]),t._v(" "),s("tr",[s("td",[s("RouterLink",{attrs:{to:"/zh/simulation/gazebo_vehicles.html#standard_plane"}},[t._v("标准构型的固定翼")])],1),t._v(" "),s("td",[s("code",[t._v("make px4_sitl gazebo_plane")])])]),t._v(" "),s("tr",[s("td",[s("RouterLink",{attrs:{to:"/zh/simulation/gazebo_vehicles.html#standard_plane_catapult"}},[t._v("Standard Plane (with catapult launch)")])],1),t._v(" "),s("td",[s("code",[t._v("make px4_sitl gazebo_plane_catapult")])])]),t._v(" "),s("tr",[s("td",[s("RouterLink",{attrs:{to:"/zh/simulation/gazebo_vehicles.html#standard_vtol"}},[t._v("标准构型的 VTOL")])],1),t._v(" "),s("td",[s("code",[t._v("make px4_sitl gazebo_standard_vtol")])])]),t._v(" "),s("tr",[s("td",[s("RouterLink",{attrs:{to:"/zh/simulation/gazebo_vehicles.html#tailsitter_vtol"}},[t._v("尾座式 VTOL")])],1),t._v(" "),s("td",[s("code",[t._v("make px4_sitl gazebo_tailsitter")])])]),t._v(" "),s("tr",[s("td",[s("RouterLink",{attrs:{to:"/zh/simulation/gazebo_vehicles.html#ugv"}},[t._v("阿克曼车 （UGV/Rover）")])],1),t._v(" "),s("td",[s("code",[t._v("make px4_sitl gazebo_rover")])])]),t._v(" "),s("tr",[s("td",[s("RouterLink",{attrs:{to:"/zh/simulation/gazebo_vehicles.html#uuv"}},[t._v("海马体 TUHH (UUV: 无人水下航行器)")])],1),t._v(" "),s("td",[s("code",[t._v("make px4_sitl gazebo_uuv_hippocampus")])])]),t._v(" "),s("tr",[s("td",[s("RouterLink",{attrs:{to:"/zh/simulation/gazebo_vehicles.html#usv"}},[t._v("船（USV：无人驾驶水面艇）")])],1),t._v(" "),s("td",[s("code",[t._v("make px4_sitl gazebo_boat")])])]),t._v(" "),s("tr",[s("td",[s("RouterLink",{attrs:{to:"/zh/simulation/gazebo_vehicles.html#airship"}},[t._v("Cloudship (Airship)")])],1),t._v(" "),s("td",[s("code",[t._v("make px4_sitl gazebo_cloudship")])])])])]),t._v(" "),s("p",[t._v("控制台将打印出“PX4”的形状，加载指定机型的初始化和参数文件，等待（并连接到）仿真器。 一旦 INFO 打印出的 [ecl/EKF] 状态为 "),s("code",[t._v("commencing GPS fusion")]),t._v(" ，则表明该载具已准备就绪可以解锁。")]),t._v(" "),s("p",[t._v("The commands above launch a single vehicle with the full UI. Other options include:")]),t._v(" "),s("ul",[s("li",[t._v("单独启动 Gazebo 和 PX4")]),t._v(" "),s("li",[t._v("在 "),s("a",{attrs:{href:"#headless"}},[t._v("无头模式")]),t._v(" 运行仿真将不会启动 Gazebo UI（使用的资源更少，速度更快）。")])]),t._v(" "),s("h2",{attrs:{id:"改变仿真环境中的世界"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#改变仿真环境中的世界"}},[t._v("#")]),t._v(" 改变仿真环境中的世界")]),t._v(" "),s("p",[t._v("现在你可以输入如下命令让飞机起飞了：")]),t._v(" "),s("p",[t._v("Once PX4 has started it will launch the PX4 shell as shown below.")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("______  __   __    ___ \n| ___ \\ \\ \\ / /   /   |\n| |_/ /  \\ V /   / /| |\n|  __/   /   \\  / /_| |\n| |     / /^\\ \\ \\___  |\n\\_|     \\/   \\/     |_/\n\npx4 starting.\n\nINFO  [px4] Calling startup script: /bin/sh etc/init.d-posix/rcS 0\nINFO  [param] selected parameter default file eeprom/parameters_10016\n[param] Loaded: eeprom/parameters_10016\nINFO  [dataman] Unknown restart, data manager file './dataman' size is 11798680 bytes\nINFO  [simulator] Waiting for simulator to connect on TCP port 4560\nGazebo multi-robot simulator, version 9.0.0\nCopyright (C) 2012 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n...\nINFO  [ecl/EKF] 5188000: commencing GPS fusion\n")])])]),s("p",[t._v("The console will print out status as PX4 loads the airframe-specific initialisation and parameter files, waits for (and connects to) the simulator. Once there is an INFO print that [ecl/EKF] is "),s("code",[t._v("commencing GPS fusion")]),t._v(" the vehicle is ready to arm.")]),t._v(" "),s("div",{staticClass:"custom-block note"},[s("p",{staticClass:"custom-block-title"},[t._v("注解")]),t._v(" "),s("p",[t._v("Right-clicking the quadrotor model allows to enable follow mode from the context menu, which is handy to keep it in view.")])]),t._v(" "),s("p",[s("img",{attrs:{src:e(1268),alt:"Gazebo UI"}})]),t._v(" "),s("p",[t._v("只需在正常的* make *命令前加上"),s("code",[t._v("HEADLESS=1")]),t._v("，如下所示：")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("pxh"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" commander takeoff\n")])])]),s("h2",{attrs:{id:"把飞机飞上天"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#把飞机飞上天"}},[t._v("#")]),t._v(" 把飞机飞上天")]),t._v(" "),s("p",[s("a",{attrs:{id:"headless"}})]),t._v(" "),s("h3",{attrs:{id:"四旋翼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四旋翼"}},[t._v("#")]),t._v(" 四旋翼")]),t._v(" "),s("p",[t._v("Gazebo can be run in a "),s("em",[t._v("headless")]),t._v(' mode in which the Gazebo UI is not launched. This starts up more quickly and uses less system resources (i.e. it is a more "lightweight" way to run the simulation).')]),t._v(" "),s("p",[t._v("要设置的变量有："),s("code",[t._v("PX4_HOME_LAT")]),t._v("、"),s("code",[t._v("PX4_HOME_LON")]),t._v(" 和 "),s("code",[t._v("PX4_HOME_ALT")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("HEADLESS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" px4_sitl gazebo_plane\n")])])]),s("p",[s("a",{attrs:{id:"custom_takeoff_location"}})]),t._v(" "),s("h3",{attrs:{id:"带光流的四旋翼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#带光流的四旋翼"}},[t._v("#")]),t._v(" 带光流的四旋翼")]),t._v(" "),s("p",[t._v("The takeoff location in SITL Gazebo can be set using environment variables. This will override both the default takeoff location, and any value "),s("a",{attrs:{href:"#set_world_location"}},[t._v("set for the world")]),t._v(".")]),t._v(" "),s("p",[t._v("通过 "),s("em",[t._v("QGroundControl")]),t._v(" 可引入操纵杆或者拇指操纵杆（"),s("RouterLink",{attrs:{to:"/zh/simulation/#joystickgamepad-integration"}},[t._v("如何进行设置看这里")]),t._v("）。")],1),t._v(" "),s("p",[t._v("此举可以缩短测试循环时间（重启 jMAVSim 需要耗费非常多的时间）。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("export PX4_HOME_LAT=28.452386\nexport PX4_HOME_LON=-13.867138\nexport PX4_HOME_ALT=28.5\nmake px4_sitl gazebo\n")])])]),s("h3",{attrs:{id:"_3dr-solo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3dr-solo"}},[t._v("#")]),t._v(" 3DR Solo")]),t._v(" "),s("p",[t._v("当前的默认世界是位于目录 "),s("a",{attrs:{href:"https://github.com/PX4/sitl_gazebo/tree/b59e6e78e42d50f70224d1d0e506825590754d64/worlds",target:"_blank",rel:"noopener noreferrer"}},[t._v("worlds"),s("OutboundLink")],1),t._v(" 中的 "),s("strong",[t._v("iris.world")]),t._v("。 "),s("strong",[t._v("iris.world")]),t._v(" 中默认使用高程图生成地面景物。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("export PX4_SIM_SPEED_FACTOR=2\nmake px4_sitl_default gazebo\n")])])]),s("p",[t._v("For more information see: "),s("RouterLink",{attrs:{to:"/zh/simulation/#simulation_speed"}},[t._v("Simulation > Run Simulation Faster than Realtime")]),t._v(".")],1),t._v(" "),s("h3",{attrs:{id:"标准构型的固定翼飞机"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#标准构型的固定翼飞机"}},[t._v("#")]),t._v(" 标准构型的固定翼飞机")]),t._v(" "),s("p",[t._v("To simulate wind speed, add this plugin to your world file and replace "),s("code",[t._v("SET_YOUR_WIND_SPEED")]),t._v(" with the desired speed:")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugin")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("wind_plugin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("filename")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("libgazebo_wind_plugin.so"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("frameId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("base_link"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("frameId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("robotNamespace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("xyzOffset")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("1 0 0"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("xyzOffset")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("windDirectionMean")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("0 1 0"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("windDirectionMean")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("windVelocityMean")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("SET_YOUR_WIND_SPEED"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("windVelocityMean")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("windGustDirection")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("0 0 0"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("windGustDirection")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("windGustDuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("0"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("windGustDuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("windGustStart")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("0"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("windGustStart")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("windGustVelocityMean")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("0"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("windGustVelocityMean")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("windPubTopic")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("world_wind"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("windPubTopic")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plugin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("You can see this how this is done in "),s("a",{attrs:{href:"https://github.com/PX4/PX4-SITL_gazebo/blob/master/worlds/windy.world#L15-L26",target:"_blank",rel:"noopener noreferrer"}},[t._v("PX4/PX4-SITL_gazebo/worlds/windy.world"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("h3",{attrs:{id:"标准构型的-vtol"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#标准构型的-vtol"}},[t._v("#")]),t._v(" 标准构型的 VTOL")]),t._v(" "),s("p",[t._v("启用/禁用GPS噪音：")]),t._v(" "),s("h3",{attrs:{id:"尾座式-vtol"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#尾座式-vtol"}},[t._v("#")]),t._v(" 尾座式 VTOL")]),t._v(" "),s("p",[t._v("单独启动 Gazebo 和 PX4:")]),t._v(" "),s("p",[t._v("This can cause difficulty when using a distance sensor. If there are unexpected results we recommend you change the model in "),s("strong",[t._v("iris.model")]),t._v(" from "),s("code",[t._v("uneven_ground")]),t._v(" to "),s("code",[t._v("asphalt_plane")]),t._v(".")]),t._v(" "),s("p",[s("a",{attrs:{id:"gps_noise"}})]),t._v(" "),s("h3",{attrs:{id:"模拟-gps-噪声"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#模拟-gps-噪声"}},[t._v("#")]),t._v(" 模拟 GPS 噪声")]),t._v(" "),s("p",[t._v("Gazebo can simulate GPS noise that is similar to that typically found in real systems (otherwise reported GPS values will be noise-free/perfect). This is useful when working on applications that might be impacted by GPS noise - e.g. precision positioning.")]),t._v(" "),s("p",[t._v("GPS noise is enabled if the target vehicle's SDF file contains a value for the "),s("code",[t._v("gpsNoise")]),t._v(" element (i.e. it has the line: "),s("code",[t._v("<gpsNoise>true</gpsNoise>")]),t._v("). It is enabled by default in many vehicle SDF files: "),s("strong",[t._v("solo.sdf")]),t._v(", "),s("strong",[t._v("iris.sdf")]),t._v(", "),s("strong",[t._v("standard_vtol.sdf")]),t._v(", "),s("strong",[t._v("delta_wing.sdf")]),t._v(", "),s("strong",[t._v("plane.sdf")]),t._v(", "),s("strong",[t._v("typhoon_h480")]),t._v(", "),s("strong",[t._v("tailsitter.sdf")]),t._v(".")]),t._v(" "),s("p",[t._v("To enable/disable GPS noise:")]),t._v(" "),s("ol",[s("li",[t._v("构建任何 gazebo 目标以生成 SDF 文件（适用于所有机型）。 例如："),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("make px4_sitl gazebo_iris\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("The SDF files are not overwritten on subsequent builds.")])])])]),t._v(" "),s("p",[t._v(":::")]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("打开目标车辆的 SDF 文件（例如**./Tools/sitl_gazebo/models/iris/iris.sdf **）。")]),t._v(" "),s("li",[t._v("搜索 "),s("code",[t._v("gpsNoise")]),t._v(" 元素： xml"),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("gui")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugin")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("video_widget"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("filename")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("libgazebo_video_stream_widget.so"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("gui")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("ul",[s("li",[t._v("如果存在，则启用 GPS。 您可以通过删除以下行来禁用它："),s("code",[t._v("<gpsNoise> true </gpsNoise>")])]),t._v(" "),s("li",[t._v("如果未预设，则禁用 GPS 。 您可以通过将"),s("code",[t._v("gpsNoise")]),t._v("元素添加到"),s("code",[t._v("gps_plugin")]),t._v("部分来启用它（如上所示）。")])])])]),t._v(" "),s("p",[t._v("启用插件后，您可以正常方式使用 Gazebo 运行 SITL：")]),t._v(" "),s("p",[s("a",{attrs:{id:"set_world"}})]),t._v(" "),s("h2",{attrs:{id:"使用-配置选项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-配置选项"}},[t._v("#")]),t._v(" 使用/配置选项")]),t._v(" "),s("p",[t._v("PX4 supports a number of "),s("RouterLink",{attrs:{to:"/zh/simulation/gazebo_worlds.html"}},[t._v("Gazebo Worlds")]),t._v(", which are stored in "),s("a",{attrs:{href:"https://github.com/PX4/sitl_gazebo/tree/master/worlds",target:"_blank",rel:"noopener noreferrer"}},[t._v("PX4/sitl_gazebo/worlds"),s("OutboundLink")],1),t._v(") By default Gazebo displays a flat featureless plane, as defined in "),s("a",{attrs:{href:"https://github.com/PX4/sitl_gazebo/blob/master/worlds/empty.world",target:"_blank",rel:"noopener noreferrer"}},[t._v("empty.world"),s("OutboundLink")],1),t._v(".")],1),t._v(" "),s("p",[t._v("You can load any of the worlds by specifying them as the final option in the PX4 configuration target.")]),t._v(" "),s("p",[t._v("来自 Gazebo 的视频应该像从真实相机那样显示在* QGroundControl *中。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("make px4_sitl gazebo_hippocampus\n")])])]),s("div",{staticClass:"custom-block note"},[s("p",{staticClass:"custom-block-title"},[t._v("注解")]),t._v(" "),s("p",[t._v("There are "),s("em",[t._v("two underscores")]),t._v(" after the model ("),s("code",[t._v("plane_cam")]),t._v(") indicating that the default debugger is used (none). See "),s("RouterLink",{attrs:{to:"/zh/dev_setup/building_px4.html#px4-make-build-targets"}},[t._v("Building the Code > PX4 Make Build Targets")]),t._v(".")],1)]),t._v(" "),s("p",[t._v("You can also specify the full path to a world to load using the "),s("code",[t._v("PX4_SITL_WORLD")]),t._v(" environment variable. This is useful if testing a new world that is not yet included with PX4.")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("If the loaded world does not align with the map, you may need to "),s("a",{attrs:{href:"#set_world_location"}},[t._v("set the world location")]),t._v(".")])]),t._v(" "),s("p",[s("a",{attrs:{id:"set_world_location"}})]),t._v(" "),s("h2",{attrs:{id:"set-world-location"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#set-world-location"}},[t._v("#")]),t._v(" Set World Location")]),t._v(" "),s("p",[t._v("启用按钮：")]),t._v(" "),s("div",{staticClass:"custom-block note"},[s("p",{staticClass:"custom-block-title"},[t._v("注解")]),t._v(" "),s("p",[t._v("The vehicle is not spawned exactly at the Gazebo origin (0,0,0), but using a slight offset, which can highlight a number of common coding issues.")])]),t._v(" "),s("p",[t._v('If using a world that recreates a real location (e.g. a particular airport) this can result in a very obvious mismatch between what is displayed in the simulated world, and what is shown on the ground station map. To overcome this problem you can set the location of the world origin to the GPS co-ordinates where it would be in "real life".')]),t._v(" "),s("p",[t._v("除了运行"),s("code",[t._v("sitl_run.sh")]),t._v("的现有 cmake 目标以及 px4 的参数加载正确的模型之外，它还会创建一个名为"),s("code",[t._v("px4_ <mode>")]),t._v("的启动器目标，这是一个包装器，围绕原始 sitl px4 应用程序。 这个包装器只是嵌入应用程序参数，如当前工作目录和模型文件的路径。\n:::")]),t._v(" "),s("p",[t._v("The location of the world is defined in the "),s("strong",[t._v(".world")]),t._v(" file by specifying the location of the origin using the "),s("code",[t._v("spherical_coordinates")]),t._v(" tag. The latitude, longitude, elevation must all be specified (for this to be a valid).")]),t._v(" "),s("p",[t._v("这种方法可显著缩短调试周期，因为仿真器（例如 Gazebo ）总是在后台运行，而您只需重新运行 px4 这个非常轻量的进程。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("    [init] shell id: 140735313310464\n[init] task name: px4\n\n______  __   __    ___\n| ___ \\ \\ \\ / /   /   |\n| |_/ /  \\ V /   / /| |\n|  __/   /   \\  / /_| |\n| |     / /^\\ \\ \\___  |\n\\_|     \\/   \\/     |_/\n\npx4 starting.\n\n\npxh>\n")])])]),s("p",[t._v("You can test this by spawning a rover in the "),s("RouterLink",{attrs:{to:"/zh/simulation/gazebo_worlds.html#sonoma-raceway"}},[t._v("Sonoma Raceway World")]),t._v(" using the following "),s("code",[t._v("make")]),t._v(" command (note that spawning takes longer the first time as the model needs to be downloaded from the model database):")],1),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("make px4_sitl gazebo_rover__sonoma_raceway\n")])])]),s("p",[t._v("The video below shows that the location of the environment is aligned with the gazebo world:")]),t._v(" "),s("p",[t._v("@模拟一个带有该相机的飞机：")]),t._v(" "),s("p",[s("a",{attrs:{id:"start_px4_sim_separately"}})]),t._v(" "),s("h2",{attrs:{id:"视频流"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#视频流"}},[t._v("#")]),t._v(" 视频流")]),t._v(" "),s("p",[t._v("For extended development sessions it might be more convenient to start Gazebo and PX4 separately or even from within an IDE.")]),t._v(" "),s("p",[t._v("In addition to the existing cmake targets that run "),s("code",[t._v("sitl_run.sh")]),t._v(" with parameters for px4 to load the correct model it creates a launcher targets named "),s("code",[t._v("px4_<mode>")]),t._v(" that is a thin wrapper around original sitl px4 app. This thin wrapper simply embeds app arguments like current working directories and the path to the model file.")]),t._v(" "),s("p",[t._v("To start Gazebo and PX4 separately:")]),t._v(" "),s("ul",[s("li",[t._v("通过在终端中指定环境变量 "),s("code",[t._v("_ide")]),t._v(" 来运行 gazebo（或任何其他 sim 卡）服务器和客户端查看器："),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" px4_sitl gazebo___ide\n")])])]),t._v("或者"),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" px4_sitl gazebo_iris_ide\n")])])])]),t._v(" "),s("li",[t._v("在 IDE 中选择要调试的"),s("code",[t._v("px4_ <mode>")]),t._v("目标（例如"),s("code",[t._v("px4_iris")]),t._v("）")]),t._v(" "),s("li",[t._v("直接从 IDE 启动调试会话")])]),t._v(" "),s("p",[t._v("This approach significantly reduces the debug cycle time because simulator (e.g. Gazebo) is always running in background and you only re-run the px4 process which is very light.")]),t._v(" "),s("h2",{attrs:{id:"扩展和定制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#扩展和定制"}},[t._v("#")]),t._v(" 扩展和定制")]),t._v(" "),s("p",[t._v("The "),s("em",[t._v("Gazebo")]),t._v(" survey camera simulates a "),s("a",{attrs:{href:"https://mavlink.io/en/services/camera.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("MAVLink camera"),s("OutboundLink")],1),t._v(" that captures geotagged JPEG images and sends camera capture information to a connected ground station. The camera also supports video streaming. It can be used to test camera capture, in particular within survey missions.")]),t._v(" "),s("p",[t._v("The camera emits the "),s("a",{attrs:{href:"https://mavlink.io/en/messages/common.html#CAMERA_IMAGE_CAPTURED",target:"_blank",rel:"noopener noreferrer"}},[t._v("CAMERA_IMAGE_CAPTURED"),s("OutboundLink")],1),t._v(" message every time an image is captured. The captured images are saved to: "),s("strong",[t._v("PX4-Autopilot/build/px4_sitle_default/tmp/frames/DSC_n_.jpg")]),t._v(" (where "),s("em",[t._v("n")]),t._v(" starts as 00000 and is iterated by one on each capture).")]),t._v(" "),s("p",[t._v("To simulate a plane with this camera:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("make px4_sitl_default gazebo_plane_cam\n")])])]),s("p",[t._v("对支持的目标载具，视频流将自动启动。 例如，要在台风 Typhoon H480 上启动视频流：")]),t._v(" "),s("div",{staticClass:"custom-block note"},[s("p",{staticClass:"custom-block-title"},[t._v("注解")]),t._v(" "),s("p",[t._v("The simulated camera is implemented in "),s("a",{attrs:{href:"https://github.com/PX4/sitl_gazebo/blob/master/src/gazebo_geotagged_images_plugin.cpp",target:"_blank",rel:"noopener noreferrer"}},[t._v("PX4/sitl_gazebo/src/gazebo_geotagged_images_plugin.cpp"),s("OutboundLink")],1),t._v(".")])]),t._v(" "),s("p",[s("a",{attrs:{id:"flight_termination"}})]),t._v(" "),s("h2",{attrs:{id:"与-ros-对接交互"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#与-ros-对接交互"}},[t._v("#")]),t._v(" 与 ROS 对接交互")]),t._v(" "),s("p",[s("em",[t._v("Gazebo")]),t._v(" can be used to simulate deploying a "),s("RouterLink",{attrs:{to:"/zh/peripherals/parachute.html"}},[t._v("parachute")]),t._v(" during "),s("RouterLink",{attrs:{to:"/zh/advanced_config/flight_termination.html"}},[t._v("Flight Termination")]),t._v(" (flight termination is triggered by the PWM command that is simulated in "),s("em",[t._v("Gazebo")]),t._v(").")],1),t._v(" "),s("p",[t._v("查看 SITL / Gazebo 相机视频流的最简单方法是在* QGroundControl "),s("em",[t._v("中。 只需打开")]),t._v("* Settings > General "),s("strong",[t._v("并将")]),t._v(" Video Source "),s("em",[s("em",[t._v("设置为")]),t._v(" UDP 视频流")]),t._v("，将** UDP 端口**设置为* 5600 *：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("make px4_sitl gazebo_if750a\n")])])]),s("p",[t._v("To put the vehicle into flight termination state, you can force it to fail a "),s("RouterLink",{attrs:{to:"/zh/config/safety.html"}},[t._v("safety check")]),t._v(" that has flight termination set as the failsafe action. For example, you could do this by forcing a "),s("RouterLink",{attrs:{to:"/zh/config/safety.html#geofence-failsafe"}},[t._v("Geofence violation")]),t._v(".")],1),t._v(" "),s("p",[t._v("For more information see:")]),t._v(" "),s("ul",[s("li",[s("RouterLink",{attrs:{to:"/zh/advanced_config/flight_termination.html"}},[t._v("飞行终止")])],1),t._v(" "),s("li",[s("RouterLink",{attrs:{to:"/zh/peripherals/parachute.html"}},[t._v("降落伞")])],1),t._v(" "),s("li",[s("RouterLink",{attrs:{to:"/zh/config/safety.html"}},[t._v(" 安全配置（故障保护） ")])],1)]),t._v(" "),s("p",[s("a",{attrs:{id:"video"}})]),t._v(" "),s("h2",{attrs:{id:"更多信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更多信息"}},[t._v("#")]),t._v(" 更多信息：")]),t._v(" "),s("p",[t._v("PX4 SITL for Gazebo supports UDP video streaming from a Gazebo camera sensor attached to a vehicle model. When streaming is enabled, you can connect to this stream from "),s("em",[t._v("QGroundControl")]),t._v(" (on UDP port 5600) and view video of the Gazebo environment from the simulated vehicle - just as you would from a real camera. The video is streamed using a "),s("em",[t._v("gstreamer")]),t._v(" pipeline and can be enabled/disabled using a button in the Gazebo UI.")]),t._v(" "),s("p",[t._v("The Gazebo camera sensor is supported/enabled on the following frames:")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#typhoon_h480"}},[t._v("Typhoon H480")])])]),t._v(" "),s("h3",{attrs:{id:"系统必备组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#系统必备组件"}},[t._v("#")]),t._v(" 系统必备组件")]),t._v(" "),s("p",[s("em",[t._v("Gstreamer 1.0")]),t._v(" is required for video streaming. The required dependencies should already have been "),s("a",{attrs:{href:"#installation"}},[t._v("installed when you set up Gazebo")]),t._v(" (they are included in the standard PX4 installation scripts/instructions for macOS and Ubuntu Linux).")]),t._v(" "),s("div",{staticClass:"custom-block note"},[s("p",{staticClass:"custom-block-title"},[t._v("FYI")]),t._v(" "),s("p",[t._v("only, the dependencies include: "),s("code",[t._v("gstreamer1.0-plugins-base")]),t._v(", g"),s("code",[t._v("streamer1.0-plugins-good")]),t._v(", "),s("code",[t._v("gstreamer1.0-plugins-bad")]),t._v(", "),s("code",[t._v("gstreamer1.0-plugins-ugly")]),t._v(", "),s("code",[t._v("libgstreamer-plugins-base1.0-dev")]),t._v(".")])]),t._v(" "),s("h3",{attrs:{id:"headless-模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#headless-模式"}},[t._v("#")]),t._v(" Headless 模式")]),t._v(" "),s("p",[t._v("要扩展或自定义仿真界面，请编辑"),s("code",[t._v("Tools/sitl_gazebo")]),t._v("文件夹中的文件。 该代码可在 Github 上的"),s("a",{attrs:{href:"https://github.com/px4/sitl_gazebo",target:"_blank",rel:"noopener noreferrer"}},[t._v(" sitl_gazebo repository "),s("OutboundLink")],1),t._v("上获得。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("sudo apt-get install $(apt-cache --names-only search ^gstreamer1.0-* | awk '{ print $1 }' | grep -v gstreamer1.0-hybris) -y\n")])])]),s("p",[t._v("Streaming can be paused/restarted using the Gazebo UI "),s("em",[t._v("Video ON/OFF")]),t._v(" button..")]),t._v(" "),s("p",[s("img",{attrs:{src:e(1269),alt:"Video ON/OFF button"}})]),t._v(" "),s("h3",{attrs:{id:"设置自定义起飞位置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置自定义起飞位置"}},[t._v("#")]),t._v(" 设置自定义起飞位置")]),t._v(" "),s("p",[t._v("The easiest way to view the SITL/Gazebo camera video stream is in "),s("em",[t._v("QGroundControl")]),t._v(". Simply open "),s("strong",[t._v("Application Settings > General")]),t._v(" and set "),s("strong",[t._v("Video Source")]),t._v(" to "),s("em",[t._v("UDP h.264 Video Stream")]),t._v(" and "),s("strong",[t._v("UDP Port")]),t._v(" to "),s("em",[t._v("5600")]),t._v(":")]),t._v(" "),s("p",[s("img",{attrs:{src:e(1270),alt:"QGC Video Streaming Settings for Gazebo"}})]),t._v(" "),s("p",[t._v("The video from Gazebo should then display in "),s("em",[t._v("QGroundControl")]),t._v(" just as it would from a real camera.")]),t._v(" "),s("p",[s("img",{attrs:{src:e(1271),alt:"QGC Video Streaming Gazebo Example"}})]),t._v(" "),s("div",{staticClass:"custom-block note"},[s("p",{staticClass:"custom-block-title"},[t._v("注解")]),t._v(" "),s("p",[t._v("The Typhoon world is not very interesting.")])]),t._v(" "),s("p",[t._v("It is also possible to view the video using the "),s("em",[t._v("Gstreamer Pipeline")]),t._v(". Simply enter the following terminal command:")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("gst-launch-1.0  -v udpsrc "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5600")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("caps")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" rtph264depay "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" avdec_h264 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" videoconvert "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" autovideosink fps-update-interval"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("sync")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("false\n")])])]),s("h3",{attrs:{id:"使用操纵杆"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用操纵杆"}},[t._v("#")]),t._v(" 使用操纵杆")]),t._v(" "),s("p",[t._v("SITL fails silently when there is something wrong with the gazebo model. You can enable more verbose logging using "),s("code",[t._v("VERBOSE_SIM")]),t._v(", as shown:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("make clean\nmake px4_sitl gazebo_typhoon_h480\n")])])]),s("p",[t._v("or")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("gst-launch-1.0  -v udpsrc port=5600 caps='application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264' \\\n! rtph264depay ! avdec_h264 videoconvert ! autovideosink fps-update-interval=1000 sync=false\n")])])]),s("h2",{attrs:{id:"扩展和自定义"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#扩展和自定义"}},[t._v("#")]),t._v(" 扩展和自定义")]),t._v(" "),s("p",[t._v("To extend or customize the simulation interface, edit the files in the "),s("code",[t._v("Tools/sitl_gazebo")]),t._v(" folder. The code is available on the "),s("a",{attrs:{href:"https://github.com/px4/sitl_gazebo",target:"_blank",rel:"noopener noreferrer"}},[t._v("sitl_gazebo repository"),s("OutboundLink")],1),t._v(" on Github.")]),t._v(" "),s("div",{staticClass:"custom-block note"},[s("p",{staticClass:"custom-block-title"},[t._v("注解")]),t._v(" "),s("p",[t._v("The build system enforces the correct GIT submodules, including the simulator. It will not overwrite changes in files in the directory.")])]),t._v(" "),s("h2",{attrs:{id:"更多信息-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更多信息-2"}},[t._v("#")]),t._v(" 更多信息")]),t._v(" "),s("ul",[s("li",[s("RouterLink",{attrs:{to:"/zh/simulation/ros_interface.html"}},[t._v("另见 Gazebo 模拟。")])],1),t._v(" "),s("li",[s("RouterLink",{attrs:{to:"/zh/simulation/gazebo_octomap.html"}},[t._v("Gazebo Octomap")])],1)])])}),[],!1,null,null,null);a.default=r.exports},391:function(t,a,e){t.exports=e.p+"assets/img/solo.3fbf2c5a.png"},392:function(t,a,e){t.exports=e.p+"assets/img/typhoon.b0922215.jpg"},393:function(t,a,e){t.exports=e.p+"assets/img/plane.25759cbc.png"},394:function(t,a,e){t.exports=e.p+"assets/img/standard_vtol.1d8abc90.png"},395:function(t,a,e){t.exports=e.p+"assets/img/tailsitter.96f4fdd2.png"},396:function(t,a,e){t.exports=e.p+"assets/img/rover.9cde6058.png"},397:function(t,a,e){t.exports=e.p+"assets/img/r1_rover.d003c2b9.png"},398:function(t,a,e){t.exports=e.p+"assets/img/hippocampus.b8be87de.png"},399:function(t,a,e){t.exports=e.p+"assets/img/boat.e06399af.png"},400:function(t,a,e){t.exports=e.p+"assets/img/airship.08c6642d.png"}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[1178],{2522:function(e,a,t){"use strict";t.r(a);var r=t(18),s=Object(r.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"模块参考-命令-command"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#模块参考-命令-command"}},[e._v("#")]),e._v(" 模块参考：命令（Command）")]),e._v(" "),t("h2",{attrs:{id:"bl-update"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bl-update"}},[e._v("#")]),e._v(" bl_update")]),e._v(" "),t("p",[e._v("源码： "),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/bl_update",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/bl_update"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("Utility to flash the bootloader from a file"),t("a",{attrs:{id:"bl_update_usage"}})]),e._v(" "),t("h3",{attrs:{id:"用法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("bl_update [arguments...]\n   bl_update [arguments...]\n   setopt        Set option bits to unlock the FLASH (only needed if in locked\n                 state)\n\n   <file>        Bootloader bin file\n")])])]),t("h2",{attrs:{id:"dumpfile"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dumpfile"}},[e._v("#")]),e._v(" dumpfile")]),e._v(" "),t("p",[e._v("源码： "),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/dumpfile",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/dumpfile"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("转储文件应用。 Dump file utility. Prints file size and contents in binary mode (don't replace LF with CR LF) to stdout.\n"),t("a",{attrs:{id:"dumpfile_usage"}})]),e._v(" "),t("h3",{attrs:{id:"用法-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法-2"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("dumpfile [arguments...]\n     dumpfile [arguments...]\n     <file>      File to dump\n")])])]),t("h2",{attrs:{id:"dyn"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dyn"}},[e._v("#")]),e._v(" dyn")]),e._v(" "),t("p",[e._v("源码："),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/dyn",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/dyn"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"描述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#描述"}},[e._v("#")]),e._v(" 描述")]),e._v(" "),t("p",[e._v("载入并运行一个未被编译至 PX4 二进制文件内的动态 PX4 模块。")]),e._v(" "),t("h3",{attrs:{id:"示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[e._v("#")]),e._v(" 示例")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("dyn ./hello.px4mod start\n")])])]),t("p",[t("a",{attrs:{id:"dyn_usage"}})]),e._v(" "),t("h3",{attrs:{id:"用法-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法-3"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("dyn [arguments...]\n     dyn [arguments...]\n     <file>      File containing the module\n     [arguments...] Arguments to the module Arguments to the module\n")])])]),t("h2",{attrs:{id:"esc-calib"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#esc-calib"}},[e._v("#")]),e._v(" esc_calib")]),e._v(" "),t("p",[e._v("源码： "),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/esc_calib",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/esc_calib"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("ESC 校准工具。")]),e._v(" "),t("p",[e._v("校准流程（运行命令将会引导你完成此流程）：")]),e._v(" "),t("ul",[t("li",[e._v("移除螺旋桨，将 ESC 断电")]),e._v(" "),t("li",[e._v("Stop attitude controllers: mc_att_control stop, fw_att_control stop")]),e._v(" "),t("li",[e._v("确保安全设置断开（Make sure safety is off）")]),e._v(" "),t("li",[e._v("运行这个命令")])]),e._v(" "),t("p",[t("a",{attrs:{id:"esc_calib_usage"}})]),e._v(" "),t("h3",{attrs:{id:"用法-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法-4"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("esc_calib [arguments...]\n     esc_calib [arguments...]\n     [-d <val>]  Select PWM output device\n                 values: <file:dev>, default: /dev/pwm_output0\n     [-l <val>]  Low PWM value in us\n                 default: 1000\n     [-h <val>]  High PWM value in us\n                 default: 2000\n     [-c <val>]  select channels in the form: 1234 (1 digit per channel,\n                 1=first)\n     [-m <val>]  Select channels via bitmask (eg. 0xF, 3)\n                 default: 0\n     [-a]        Select all channels\n")])])]),t("h2",{attrs:{id:"failure"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#failure"}},[e._v("#")]),e._v(" failure")]),e._v(" "),t("p",[e._v("Source: "),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/config",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/config"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"描述-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#描述-2"}},[e._v("#")]),e._v(" 描述")]),e._v(" "),t("p",[e._v("Inject failures into system.")]),e._v(" "),t("h3",{attrs:{id:"用法-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法-5"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),t("p",[e._v("This system command sends a vehicle command over uORB to trigger failure.")]),e._v(" "),t("h3",{attrs:{id:"示例-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#示例-2"}},[e._v("#")]),e._v(" 示例")]),e._v(" "),t("p",[e._v("Test the GPS failsafe by stopping GPS:")]),e._v(" "),t("p",[e._v("failure gps off")]),e._v(" "),t("p",[t("a",{attrs:{id:"failure_usage"}})]),e._v(" "),t("h3",{attrs:{id:"用法-6"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法-6"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("failure [arguments...]\n   help          Show this help text\n\n   gps|...       Specify component\n\n   ok|off|...    Specify failure type\n     [-i <val>]  sensor instance (0=all)\n                 default: 0\n")])])]),t("h2",{attrs:{id:"gpio"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gpio"}},[e._v("#")]),e._v(" gpio")]),e._v(" "),t("p",[e._v("Source: "),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/gpio",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/gpio"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("This command is used to read and write GPIOs.\n"),t("a",{attrs:{id:"gpio_usage"}})]),e._v(" "),t("h3",{attrs:{id:"用法-7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法-7"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("gpio [arguments...]\n   read\n     <PORT> <PIN> GPIO port and pin\n     [PULLDOWN|PULLUP] Pulldown/Pullup\n     [--force]   Force (ignore board gpio list)\n\n   write\n     <PORT> <PIN> GPIO port and pin\n     <VALUE>     Value to write\n     [PULLDOWN|PULLUP] Pulldown/Pullup\n     [--force]   Force (ignore board gpio list)\n")])])]),t("h2",{attrs:{id:"hardfault-log"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hardfault-log"}},[e._v("#")]),e._v(" hardfault_log")]),e._v(" "),t("p",[e._v("源码： "),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/hardfault_log",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/hardfault_log"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("硬错误处理程序。")]),e._v(" "),t("p",[e._v("在启动脚本中用于处理硬错误。")]),e._v(" "),t("p",[t("a",{attrs:{id:"hardfault_log_usage"}})]),e._v(" "),t("h3",{attrs:{id:"用法-8"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法-8"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("hardfault_log <command> [arguments...]\n hardfault_log <command> [arguments...]\n Commands:\n   check         Check if there's an uncommited hardfault\n\n   rearm         Drop an uncommited hardfault\n\n   fault         Generate a hardfault (this command crashes the system :)\n     [0|1]       Hardfault type: 0=divide by 0, 1=Assertion (default=0)\n\n   commit        Write uncommited hardfault to /fs/microsd/fault_%i.txt (and\n                 rearm, but don't reset)\n\n   count         Read the reboot counter, counts the number of reboots of an\n                 uncommited hardfault (returned as the exit code of the program)\n\n   reset         Reset the reboot counter\n")])])]),t("h2",{attrs:{id:"i2cdetect"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#i2cdetect"}},[e._v("#")]),e._v(" i2cdetect")]),e._v(" "),t("p",[e._v("Source: "),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/i2cdetect",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/i2cdetect"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("Utility to scan for I2C devices on a particular bus.\n"),t("a",{attrs:{id:"i2cdetect_usage"}})]),e._v(" "),t("h3",{attrs:{id:"描述-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#描述-3"}},[e._v("#")]),e._v(" 描述")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("i2cdetect [arguments...]\n     [-b <val>]  I2C bus\n                 default: 1\n")])])]),t("h2",{attrs:{id:"led-control"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#led-control"}},[e._v("#")]),e._v(" led_control")]),e._v(" "),t("p",[e._v("源码： "),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/led_control",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/led_control"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"描述-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#描述-4"}},[e._v("#")]),e._v(" 描述")]),e._v(" "),t("p",[e._v("用于控制 & 测试 （外部） LED's 的命令行工具。")]),e._v(" "),t("p",[e._v("要使用该命令请确保有一个负责处理 led_control 的 uorb 主题处于运行状态。")]),e._v(" "),t("p",[e._v("There are different priorities, such that for example one module can set a color with low priority, and another module can blink N times with high priority, and the LED's automatically return to the lower priority state after the blinking. The "),t("code",[e._v("reset")]),e._v(" command can also be used to return to a lower priority. 也可使用 "),t("code",[e._v("reset")]),e._v(" 命令来返回至一个更低的优先级。")]),e._v(" "),t("h3",{attrs:{id:"示例-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#示例-3"}},[e._v("#")]),e._v(" 示例")]),e._v(" "),t("p",[e._v("第一个 LED 闪烁蓝光 5 次：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("led_control blink -c blue -l 0 -n 5\n")])])]),t("p",[t("a",{attrs:{id:"led_control_usage"}})]),e._v(" "),t("h3",{attrs:{id:"用法-9"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法-9"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("led_control <command> [arguments...]\n led_control <command> [arguments...]\n Commands:\n   test          Run a test pattern\n\n   on            Turn LED on\n\n   off           Turn LED off\n\n   reset         Reset LED priority\n\n   blink         Blink LED N times\n     [-n <val>]  Number of blinks\n                 default: 3\n     [-s <val>]  Set blinking speed\n                 values: fast|normal|slow, default: normal\n\n   breathe       Continuously fade LED in & out\n\n   flash         Two fast blinks and then off with frequency of 1Hz\n\n The following arguments apply to all of the above commands except for 'test':\n     [-c <val>]  color\n                 values: red|blue|green|yellow|purple|amber|cyan|white, default:\n                 white\n     [-l <val>]  Which LED to control: 0, 1, 2, ... (default=all)\n                 default: -1\n     [-p <val>]  Priority\n                 default: 2\n")])])]),t("h2",{attrs:{id:"listener"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#listener"}},[e._v("#")]),e._v(" listener")]),e._v(" "),t("p",[e._v("源码： "),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/topic_listener",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/topic_listener"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("用于监听 uORB 主题并将数据输出在控制台上的工具。")]),e._v(" "),t("p",[e._v("Note: this command currently only supports the "),t("code",[e._v("/dev/pwm_output0")]),e._v(" output.")]),e._v(" "),t("p",[t("a",{attrs:{id:"listener_usage"}})]),e._v(" "),t("h3",{attrs:{id:"用法-10"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法-10"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("listener <command> [arguments...]\n listener <command> [arguments...]\n Commands:\n     <topic_name> uORB topic name\n     [-i <val>]  Topic instance\n                 default: 0\n     [-n <val>]  Number of messages\n                 default: 1\n     [-r <val>]  Subscription rate (unlimited if 0)\n                 default: 0\n")])])]),t("h2",{attrs:{id:"mixer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mixer"}},[e._v("#")]),e._v(" mixer")]),e._v(" "),t("p",[e._v("源码： "),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/mixer",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/mixer"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"描述-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#描述-5"}},[e._v("#")]),e._v(" 描述")]),e._v(" "),t("p",[e._v("将混控器文件加载或者附加到 ESC 驱动中。")]),e._v(" "),t("p",[e._v("需要注意的是驱动必须支持这个命令使用的 ioctl ，这一点在 Nuttx 上是成立的，但在其它平台上就不一定成立，如 RPI。")]),e._v(" "),t("p",[t("a",{attrs:{id:"mixer_usage"}})]),e._v(" "),t("h3",{attrs:{id:"用法-11"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法-11"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("mixer <command> [arguments...]\n mixer <command> [arguments...]\n Commands:\n   load\n     <file:dev> <file> Output device (eg. /dev/pwm_output0) and mixer file\n\n   append\n     <file:dev> <file> Output device (eg. /dev/pwm_output0) and mixer file\n")])])]),t("h2",{attrs:{id:"motor-ramp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#motor-ramp"}},[e._v("#")]),e._v(" motor_ramp")]),e._v(" "),t("p",[e._v("源码： "),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/motor_ramp",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/motor_ramp"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"参数描述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参数描述"}},[e._v("#")]),e._v(" 参数描述")]),e._v(" "),t("p",[e._v("用于测试电机的加速。")]),e._v(" "),t("p",[e._v("在开始之前需要确保停止所有姿态控制器的运行。")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("motor_ramp [arguments...]\n     ramp|sine|square mode\n     <min_pwm> <time> [<max_pwm>] pwm value in us, time in sec\n\n WARNING: motors will ramp up to full speed!\n")])])]),t("p",[e._v("命令开始后将开启一个后台任务，该任务会持续若干秒（根据设定值）然后退出。")]),e._v(" "),t("h3",{attrs:{id:"示例-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#示例-4"}},[e._v("#")]),e._v(" 示例")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("motor_test <command> [arguments...]\n Commands:\n   test          Set motor(s) to a specific output value\n     [-m <val>]  Motor to test (0...7, all if not specified)\n                 default: -1\n     [-p <val>]  Power (0...100)\n                 default: 0\n\n   stop          Stop all motors\n\n   iterate       Iterate all motors starting and stopping one after the other\n")])])]),t("p",[t("a",{attrs:{id:"motor_ramp_usage"}})]),e._v(" "),t("h3",{attrs:{id:"用法-12"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法-12"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("motor_ramp [arguments...]\n     ramp|sine|square mode\n     [-d <val>]  Pwm output device\n                 default: /dev/pwm_output0\n     -a <val>    Select minimum pwm duty cycle in usec\n     [-b <val>]  Select maximum pwm duty cycle in usec\n                 default: 2000\n     [-r <val>]  Select motor ramp duration in sec\n                 default: 1.0\n\n WARNING: motors will ramp up to full speed!\n")])])]),t("h2",{attrs:{id:"motor-test"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#motor-test"}},[e._v("#")]),e._v(" motor_test")]),e._v(" "),t("p",[e._v("源码： "),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/motor_test",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/motor_test"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("电机测试工具。")]),e._v(" "),t("p",[e._v("WARNING: remove all props before using this command.")]),e._v(" "),t("p",[t("a",{attrs:{id:"motor_test_usage"}})]),e._v(" "),t("h3",{attrs:{id:"用法-13"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法-13"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("motor_test <command> [arguments...]\n Commands:\n   test          Set motor(s) to a specific output value\n     [-m <val>]  Motor to test (1...8, all if not specified)\n     [-p <val>]  Power (0...100)\n                 default: 0\n     [-t <val>]  Timeout in seconds (default=no timeout)\n                 default: 0\n     [-i <val>]  driver instance\n                 default: 0\n\n   stop          Stop all motors\n\n   iterate       Iterate all motors starting and stopping one after the other\n")])])]),t("h2",{attrs:{id:"mtd"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mtd"}},[e._v("#")]),e._v(" mtd")]),e._v(" "),t("p",[e._v("源码： "),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/mtd",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/mtd"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("Parameters are automatically saved when changed, eg. with "),t("code",[e._v("param set")]),e._v(". They are typically stored to FRAM or to the SD card. "),t("code",[e._v("param select")]),e._v(" can be used to change the storage location for subsequent saves (this will need to be (re-)configured on every boot)."),t("a",{attrs:{id:"mtd_usage"}})]),e._v(" "),t("h3",{attrs:{id:"用法-14"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法-14"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("mtd <command> [arguments...]\n mtd <command> [arguments...]\n Commands:\n   status        Print status information\n\n   start         Mount partitions\n\n   readtest      Perform read test\n\n   rwtest        Perform read-write test\n\n   erase         Erase partition(s)\n\n The commands 'start', 'readtest', 'rwtest' and 'erase' have an optional\n parameter:\n     [<partition_name1> [<partition_name2> ...]] Partition names (eg.\n                 /fs/mtd_params), use system default if not provided Partition names (eg.\n                 /fs/mtd_params), use system default if not provided\n")])])]),t("h2",{attrs:{id:"nshterm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nshterm"}},[e._v("#")]),e._v(" nshterm")]),e._v(" "),t("p",[e._v("源码： "),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/nshterm",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/nshterm"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("在指定端口启动一个 NSH shell")]),e._v(" "),t("p",[e._v("该命令此前被用于在 USB 串口端口开启一个 shell， This was previously used to start a shell on the USB serial port. Now there runs mavlink, and it is possible to use a shell over mavlink.")]),e._v(" "),t("p",[t("a",{attrs:{id:"nshterm_usage"}})]),e._v(" "),t("h3",{attrs:{id:"描述-6"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#描述-6"}},[e._v("#")]),e._v(" 描述")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("nshterm [arguments...]\n     nshterm [arguments...]\n     <file:dev>  Device on which to start the shell (eg. /dev/ttyACM0)\n")])])]),t("h2",{attrs:{id:"param"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#param"}},[e._v("#")]),e._v(" param")]),e._v(" "),t("p",[e._v("源码： "),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/param",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/param"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"参数描述-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参数描述-2"}},[e._v("#")]),e._v(" 参数描述")]),e._v(" "),t("p",[e._v("在 shell 或者脚本中获取参数并对其进行操作的命令。")]),e._v(" "),t("p",[e._v("例如，在启动脚本中使用此命令来设置特定于机型的参数。")]),e._v(" "),t("p",[e._v("Parameters are automatically saved when changed, eg. with "),t("code",[e._v("param set")]),e._v(". 这些参数通常被存储在 FRAM 或者 SD 卡中。 "),t("code",[e._v("param select")]),e._v(" 可用于更改后续参数保存的存储位置（这一选项在每次启动时都需要重新进行配置）。")]),e._v(" "),t("p",[e._v("If the FLASH-based backend is enabled (which is done at compile time, e.g. for the Intel Aero or Omnibus), "),t("code",[e._v("param select")]),e._v(" has no effect and the default is always the FLASH backend. However "),t("code",[e._v("param save/load <file>")]),e._v(" can still be used to write to/read from files. 然而，仍可使用 "),t("code",[e._v("param save/load &lt;file&gt;")]),e._v(" 从文件中读取/写入参数。")]),e._v(" "),t("p",[e._v("Each parameter has a 'used' flag, which is set when it's read during boot. It is used to only show relevant parameters to a ground control station. 它只是用于向地面控制站显示有关联的参数。")]),e._v(" "),t("h3",{attrs:{id:"示例-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#示例-5"}},[e._v("#")]),e._v(" 示例")]),e._v(" "),t("p",[e._v("更改机型，并确保机型的默认参数被加载了：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("param set SYS_AUTOSTART 4001\nparam set SYS_AUTOCONFIG 1\nreboot\n")])])]),t("p",[t("a",{attrs:{id:"param_usage"}})]),e._v(" "),t("h3",{attrs:{id:"用法-15"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法-15"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("param <command> [arguments...]\n param <command> [arguments...]\n Commands:\n   load          Load params from a file (overwrite all)\n     [<file>]    File name (use default if not given)\n\n   import        Import params from a file\n     [<file>]    File name (use default if not given)\n\n   save          Save params to a file\n     [<file>]    File name (use default if not given)\n\n   select        Select default file\n     [<file>]    File name (use <root>/eeprom/parameters if not given)\n\n   show          Show parameter values\n     [-c]        Show only changed params\n     [-q]        quiet mode, print only param value (name needs to be exact)\n     [<filter>]  Filter by param name (wildcard at end allowed, eg. sys_*)\n\n   set           Set parameter to a value\n     <param_name> <value> Parameter name and value to set\n     [fail]      If provided, let the command fail if param is not found\n\n   compare       Compare a param with a value. Command will succeed if equal\n     <param_name> <value> Parameter name and value to compare\n\n   greater       Compare a param with a value. Command will succeed if param is\n                 greater than the value\n     <param_name> <value> Parameter name and value to compare\n\n   touch         Mark a parameter as used\n     [<param_name1> [<param_name2>]] Parameter name (one or more)\n\n   reset         Reset params to default\n     [<exclude1> [<exclude2>]] Do not reset matching params (wildcard at end\n                 allowed)\n\n   reset_nostart Reset params to default, but keep SYS_AUTOSTART and\n                 SYS_AUTOCONFIG\n     [<exclude1> [<exclude2>]] Do not reset matching params (wildcard at end\n                 allowed)\n\n   index         Show param for a given index\n     <index>     Index: an integer >= 0\n\n   index_used    Show used param for a given index\n     <index>     Index: an integer >= 0\n\n   find          Show index of a param\n     <param>     param name Command will succeed if equal\n     [-s]        If provided, silent errors if parameter doesn't exists\n     <param_name> <value> Parameter name and value to compare\n\n   greater       Compare a param with a value. Command will succeed if param is\n                 greater than the value\n     [-s]        If provided, silent errors if parameter doesn't exists\n     <param_name> <value> Parameter name and value to compare\n     <param_name> <value> Parameter name and value to compare\n\n   touch         Mark a parameter as used\n     [<param_name1> [<param_name2>]] Parameter name (one or more)\n\n   reset         Reset only specified params to default\n     [<param1> [<param2>]] Parameter names to reset (wildcard at end allowed)\n\n   reset_all     Reset all params to default\n     [<exclude1> [<exclude2>]] Do not reset matching params (wildcard at end\n                 allowed)\n\n   index         Show param for a given index\n     <index>     Index: an integer >= 0\n\n   index_used    Show used param for a given index\n     <index>     Index: an integer >= 0\n\n   find          Show index of a param\n     <param>     param name\n")])])]),t("h2",{attrs:{id:"perf"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#perf"}},[e._v("#")]),e._v(" perf")]),e._v(" "),t("p",[e._v("源码： "),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/perf",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/perf"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("Tool to print performance counters"),t("a",{attrs:{id:"perf_usage"}})]),e._v(" "),t("h3",{attrs:{id:"用法-16"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法-16"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("perf [arguments...]\n   perf [arguments...]\n   reset         Reset all counters\n\n   latency       Print HRT timer latency histogram\n\n Prints all performance counters if no arguments given\n")])])]),t("h2",{attrs:{id:"pwm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pwm"}},[e._v("#")]),e._v(" pwm")]),e._v(" "),t("p",[e._v("源码： "),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/pwm",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/pwm"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"描述-7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#描述-7"}},[e._v("#")]),e._v(" 描述")]),e._v(" "),t("p",[e._v("此命令用于配置舵机和 ESC 的 PWM 控制输出。")]),e._v(" "),t("p",[e._v("默认设备是主通道的 "),t("code",[e._v("/dev/pwm_output0")]),e._v(" ，AUX 辅助通道位于 "),t("code",[e._v("/dev/pwm_output1")]),e._v(" (需要搭配 "),t("code",[e._v("-d")]),e._v(" 参数)。")]),e._v(" "),t("p",[e._v("It is used in the startup script to make sure the PWM parameters ("),t("code",[e._v("PWM_*")]),e._v(") are applied (or the ones provided by the airframe config if specified). "),t("code",[e._v("pwm info")]),e._v(" shows the current settings (the trim value is an offset and configured with "),t("code",[e._v("PWM_MAIN_TRIMx")]),e._v(" and "),t("code",[e._v("PWM_AUX_TRIMx")]),e._v("). "),t("code",[e._v("pwm info")]),e._v(" 用于显示当前的设定 (配平值是一个偏移量，可使用 "),t("code",[e._v("PWM_MAIN_TRIMx")]),e._v(" 和 "),t("code",[e._v("PWM_AUX_TRIMx")]),e._v(" 进行设置)。")]),e._v(" "),t("p",[e._v("Reboot the system")]),e._v(" "),t("p",[e._v("通道被分配到一个组。 由于硬件限制, 只能为每个组设置更新速率。 使用 "),t("code",[e._v("pwm info")]),e._v(" 显示所有的组。 Channels are assigned to a group. Due to hardware limitations, the update rate can only be set per group. Use "),t("code",[e._v("pwm info")]),e._v(" to display the groups. If the "),t("code",[e._v("-c")]),e._v(" argument is used, all channels of any included group must be included.")]),e._v(" "),t("p",[e._v("参数 "),t("code",[e._v("-p")]),e._v(" 和 "),t("code",[e._v("-r")]),e._v(" 可设置为一个参数变量而不是一个指定的证书：例如， -p p:PWM_MIN 。")]),e._v(" "),t("p",[e._v("注意，在 OneShot 模式下， PWM 范围 [1000, 2000] 会被自动映射到 [125, 250] 。")]),e._v(" "),t("h3",{attrs:{id:"示例-6"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#示例-6"}},[e._v("#")]),e._v(" 示例")]),e._v(" "),t("p",[e._v("将所有通道的 PWM 速率设置为 400 Hz:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("pwm rate -a -r 400\n")])])]),t("p",[e._v("Test the outputs of eg. channels 1 and 3, and set the PWM value to 1200 us:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("pwm arm\npwm test -c 13 -p 1200\n")])])]),t("p",[t("a",{attrs:{id:"pwm_usage"}})]),e._v(" "),t("h3",{attrs:{id:"用法-17"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法-17"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("pwm <command> [arguments...]\n Commands:\n   arm           Arm output\n\n   disarm        Disarm output\n\n   info          Print current configuration of all channels\n\n   forcefail     Force Failsafe mode. PWM 输出将被设置为故障保护值。\n     on|off      开启或关闭\n\n   terminatefail 启用 Termination Failsafe 模式。 该设定为真时所有故障保护都是不可恢复的（即便满足恢复条件）。\n     pwm <command> [arguments...]\n Commands:\n   arm           Arm output\n\n   disarm        Disarm output\n\n   info          Print current configuration of all channels\n\n   forcefail     Force Failsafe mode. PWM outputs are set to failsafe values.\n     on|off      Turn on or off\n\n   terminatefail Enable Termination Failsafe mode. While this is true, any\n                 failsafe that occurs will be unrecoverable (even if recovery\n                 conditions are met).\n     on|off      Turn on or off\n\n   rate          Configure PWM rates\n     -r <val>    PWM Rate in Hz (0 = Oneshot, otherwise 50 to 400Hz)\n\n   oneshot       Configure Oneshot125 (rate is set to 0)\n\n   failsafe      Set Failsafe PWM value\n\n   disarmed      Set Disarmed PWM value\n\n   min           Set Minimum PWM value\n\n   max           Set Maximum PWM value\n\n   test          Set Output to a specific value until 'q' or 'c' or 'ctrl-c'\n                 pressed\n\n   steps         Run 5 steps from 0 to 100%\n\n The commands 'failsafe', 'disarmed', 'min', 'max' and 'test' require a PWM\n value:\n     -p <val>    PWM value (eg. 1100)\n\n The commands 'rate', 'oneshot', 'failsafe', 'disarmed', 'min', 'max', 'test'\n and 'steps' additionally require to specify the channels with one of the\n following commands:\n     [-c <val>]  select channels in the form: 1234 (1 digit per channel,\n                 1=first)\n     [-m <val>]  Select channels via bitmask (eg. 0xF, 3)\n                 default: 0\n     [-g <val>]  Select channels by group (eg. 0, 1, 2. use 'pwm info' to show\n                 groups)\n                 default: 0\n     [-a]        Select all channels\n\n These parameters apply to all commands:\n     [-d <val>]  Select PWM output device\n                 values: <file:dev>, default: /dev/pwm_output0\n     [-v]        Verbose output\n     [-e]        Exit with 1 instead of 0 on error use 'pwm info' to show\n                 groups)\n     [-a]        Select all channels\n\n These parameters apply to all commands:\n     [-d <val>]  Select PWM output device\n                 values: <file:dev>, default: /dev/pwm_output0\n     [-v]        Verbose output\n     [-e]        Exit with 1 instead of 0 on error\n")])])]),t("h2",{attrs:{id:"reboot"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#reboot"}},[e._v("#")]),e._v(" reboot")]),e._v(" "),t("p",[e._v("源码： "),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/reboot",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/reboot"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("Reboot the system\n"),t("a",{attrs:{id:"reboot_usage"}})]),e._v(" "),t("h3",{attrs:{id:"用法-18"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法-18"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("reboot [arguments...]\n     reboot [arguments...]\n     [-b]        Reboot into bootloader\n     [lock|unlock] Take/release the shutdown lock (for testing)\n")])])]),t("h2",{attrs:{id:"sd-bench"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sd-bench"}},[e._v("#")]),e._v(" sd_bench")]),e._v(" "),t("p",[e._v("源码： "),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/sd_bench",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/sd_bench"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("Test the speed of an SD Card"),t("a",{attrs:{id:"sd_bench_usage"}})]),e._v(" "),t("h3",{attrs:{id:"用法-19"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法-19"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("sd_bench [arguments...]\n     sd_bench [arguments...]\n     [-b <val>]  Block size for each read/write\n                 default: 4096\n     [-r <val>]  Number of runs\n                 default: 5\n     [-d <val>]  Duration of a run in ms\n                 default: 2000\n     [-s]        Call fsync after each block (default=at end of each run)\n")])])]),t("h2",{attrs:{id:"system-time"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#system-time"}},[e._v("#")]),e._v(" system_time")]),e._v(" "),t("p",[e._v("Source: "),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/system_time",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/system_time"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"描述-8"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#描述-8"}},[e._v("#")]),e._v(" 描述")]),e._v(" "),t("p",[e._v("Command-line tool to set and get system time.")]),e._v(" "),t("h3",{attrs:{id:"示例-7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#示例-7"}},[e._v("#")]),e._v(" 示例")]),e._v(" "),t("p",[e._v("Set the system time and read it back")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("ver <command> [arguments...]\n Commands:\n   hw            Hardware architecture\n\n   mcu           MCU info\n\n   git           git version information\n\n   bdate         Build date and time\n\n   gcc           Compiler info\n\n   bdate         Build date and time\n\n   px4guid       PX4 GUID\n\n   uri           Build URI\n\n   all           Print all versions\n\n   hwcmp         Compare hardware version (returns 0 on match)\n     <hw> [<hw2>] Hardware to compare against (eg. PX4_FMU_V4). An OR comparison\n                 is used if multiple are specified\n\n   hwtypecmp     Compare hardware type (returns 0 on match)\n     <hwtype> [<hwtype2>] Hardware type to compare against (eg. V2). An OR\n                 comparison is used if multiple are specified\n")])])]),t("p",[t("a",{attrs:{id:"system_time_usage"}})]),e._v(" "),t("h3",{attrs:{id:"用法-20"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法-20"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("system_time <command> [arguments...]\n Commands:\n   set           Set the system time, provide time in unix epoch time format\n\n   get           Get the system time\n")])])]),t("h2",{attrs:{id:"top"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#top"}},[e._v("#")]),e._v(" top")]),e._v(" "),t("p",[e._v("源码："),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/top",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/top"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("Monitor running processes and their CPU, stack usage, priority and state"),t("a",{attrs:{id:"top_usage"}})]),e._v(" "),t("h3",{attrs:{id:"用法-21"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法-21"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("top [arguments...]\n   top [arguments...]\n   once          print load only once\n")])])]),t("h2",{attrs:{id:"usb-connected"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#usb-connected"}},[e._v("#")]),e._v(" usb_connected")]),e._v(" "),t("p",[e._v("源码： "),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/usb_connected",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/usb_connected"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("检查 USB 是否已连接的工具。 此前曾在启动脚本中使用过， Utility to check if USB is connected. Was previously used in startup scripts. A return value of 0 means USB is connected, 1 otherwise.\n"),t("a",{attrs:{id:"usb_connected_usage"}})]),e._v(" "),t("h3",{attrs:{id:"使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[e._v("#")]),e._v(" 使用")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("usb_connected [arguments...]\n")])])]),t("h2",{attrs:{id:"ver"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ver"}},[e._v("#")]),e._v(" ver")]),e._v(" "),t("p",[e._v("源码： "),t("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/systemcmds/ver",target:"_blank",rel:"noopener noreferrer"}},[e._v("systemcmds/ver"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("Tool to print various version information"),t("a",{attrs:{id:"ver_usage"}})]),e._v(" "),t("h3",{attrs:{id:"使用-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-2"}},[e._v("#")]),e._v(" 使用")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("ver <command> [arguments...]\n Commands:\n   hw            Hardware architecture\n\n   mcu           MCU info\n\n   git           git version information\n\n   bdate         Build date and time\n\n   gcc           Compiler info\n\n   bdate         Build date and time\n\n   px4guid       PX4 GUID\n\n   uri           Build URI\n\n   all           Print all versions\n\n   hwcmp         Compare hardware version (returns 0 on match)\n     <hw> [<hw2>] Hardware to compare against (eg. PX4_FMU_V4). An OR comparison\n                 is used if multiple are specified\n\n   hwtypecmp     Compare hardware type (returns 0 on match)\n     <hwtype> [<hwtype2>] Hardware type to compare against (eg. V2). 如果指定了多种硬件类型将执行或比较（OR comparison）\n")])])])])}),[],!1,null,null,null);a.default=s.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[881],{1822:function(e,t,_){"use strict";_.r(t);var s=_(18),a=Object(s.a)({},(function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h1",{attrs:{id:"외부-모듈-별도"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#외부-모듈-별도"}},[e._v("#")]),e._v(" 외부 모듈(별도)")]),e._v(" "),_("p",[e._v("외부 모듈에서는 PX4 펌웨어에 추가(또는 업데이트)할 상용 모듈을 관리/분류하는 편의 매커니즘을 개발자에게 제공합니다. 외부 모듈은 내부 모듈처럼 활용할 수 있으며, 내부 모듈과의 uORB 메시지 교환에 활용할 수 있습니다.")]),e._v(" "),_("p",[e._v('이 주제에서는 외부("별도") 모듈을 PX4 빌드에 추가하는 방법을 설명합니다.')]),e._v(" "),_("div",{staticClass:"custom-block tip"},[_("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),_("p",[e._v("We encourage you to contribute your changes into PX4, where possible!")])]),e._v(" "),_("h2",{attrs:{id:"사용법"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#사용법"}},[e._v("#")]),e._v(" 사용법")]),e._v(" "),_("p",[e._v("To create an external module:")]),e._v(" "),_("ul",[_("li",[_("p",[e._v("외부 모듈을 모아둘 "),_("em",[e._v("외부 디렉터리")]),e._v("를 만드십시오:")]),e._v(" "),_("ul",[_("li",[_("strong",[e._v("PX4-Autopilot")]),e._v(" 트리 외부 어디에든 둘 수 있습니다.")]),e._v(" "),_("li",[_("strong",[e._v("Firmware")]),e._v("와 동일한 구조를 가져야합니다(예시: "),_("strong",[e._v("src")]),e._v(" 디렉터리가 있어야합니다).")]),e._v(" "),_("li",[e._v("이후 우리는 이 디렉터리를 "),_("code",[e._v("EXTERNAL_MODULES_LOCATION")]),e._v("이라고 하겠습니다.")])])]),e._v(" "),_("li",[_("p",[e._v("기존 모듈을 (예: "),_("strong",[e._v("examples/px4_simple_app")]),e._v(") 외부 디렉터리로 복사하거나 새 모듈을 바로 만드십시오.")])]),e._v(" "),_("li",[_("p",[e._v("모듈의 이름을 바꾸거나 ("),_("strong",[e._v("CMakeLists.txt")]),e._v("의 "),_("code",[e._v("MODULE")]),e._v("도) 기존 펌웨어의 "),_("em",[e._v("cmake")]),e._v("  빌드 설정에서 제거하십시오. 이 조치 과정은 내부 모듈과 혼동하는 문제를 피합니다.")])]),e._v(" "),_("li",[_("p",[_("strong",[e._v("CMakeLists.txt")]),e._v(" 파일을 내용물과 같이 외부 디렉터리에 추가하십시오: set(config_module_list_external modules/")]),e._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("set(config_module_list_external\n    modules/<new_module>\n    PARENT_SCOPE\n    )\n")])])])]),e._v(" "),_("li",[_("p",[_("code",[e._v("modules/<new_module>/CMakeLists.txt")]),e._v(" 의 "),_("code",[e._v("px4_add_module()")]),e._v("에 다음과 같이 "),_("code",[e._v("EXTERNAL")]),e._v(" 줄을 추가하십시오:")]),e._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("px4_add_module(\nMODULE modules__test_app\nMAIN test_app\nSTACK_MAIN 2000\nSRCS\n  px4_simple_app.c\nDEPENDS\n  platforms__common\nEXTERNAL\n)\n")])])])])]),e._v(" "),_("h2",{attrs:{id:"별도-uorb-메시지-정의"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#별도-uorb-메시지-정의"}},[e._v("#")]),e._v(" 별도 uORB 메시지 정의")]),e._v(" "),_("p",[e._v("별도의 uORB 메시지는 일반 uORB 메시지와 동일한 위치에 만듭니다. uORB 토픽 헤더는 "),_("code",[e._v("<build_dir>/uORB/topics/")]),e._v("에 만들고, 메시지 원본 파일은  "),_("code",[e._v("<build_dir>/msg/topics_sources/")]),e._v("에 만듭니다.")]),e._v(" "),_("ul",[_("li",[_("p",[e._v("모든 새 메시지 정의를 "),_("code",[e._v("$EXTERNAL_MODULES_LOCATION/msg")]),e._v(" 디렉터리에 넣으십시오. 이들 새 별도 메시지 정의 형식은 다른  "),_("RouterLink",{attrs:{to:"/ko/middleware/uorb.html#adding-a-new-topic"}},[e._v("uORB 메시지 정의")]),e._v("시에도 동일합니다.")],1)]),e._v(" "),_("li",[_("p",[e._v("다음 내용을 채워 넣은 "),_("code",[e._v("$EXTERNAL_MODULES_LOCATION/msg/CMakeLists.txt")]),e._v(" 파일을 추가하십시오:")]),e._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("set(config_msg_list_external\n    <message1>.msg\n    <message2>.msg\n    <message3>.msg\n    PARENT_SCOPE\n    )\n")])])]),_("p",[_("code",[e._v("<message#>.msg")]),e._v(" 부분은 uORB 메시지 생성 과정에서 처리, 활용하는 uORB 메시지 정의 파일의 이름입니다.")])])]),e._v(" "),_("p",[e._v("The out-of-tree uORB messages will be generated in the same locations as the normal uORB messages. The uORB topic headers are generated in "),_("code",[e._v("<build_dir>/uORB/topics/")]),e._v(", and the message source files are generated in "),_("code",[e._v("<build_dir>/msg/topics_sources/")]),e._v(".")]),e._v(" "),_("p",[_("code",[e._v("make px4_sitl EXTERNAL_MODULES_LOCATION=<path>")]),e._v(" 명령을 실행하십시오.")]),e._v(" "),_("p",[e._v("다른 빌드 대상을 활용할 수 있지만, 아직 빌드 디렉터리를 두면 안됩니다. 이미 있다면 "),_("em",[e._v("cmake")]),e._v(" 변수 값을 빌드 폴더에 설정할 수 있습니다.")]),e._v(" "),_("h2",{attrs:{id:"외부-모듈-및-uorb-메시지-빌드"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#외부-모듈-및-uorb-메시지-빌드"}},[e._v("#")]),e._v(" 외부 모듈 및 uORB 메시지 빌드")]),e._v(" "),_("p",[e._v("차후 추가 빌드 과정에서는 "),_("code",[e._v("EXTERNAL_MODULES_LOCATION")]),e._v(" 값을 지정할 필요가 없습니다.")]),e._v(" "),_("p",[e._v("Any other build target can be used, but the build directory must not yet exist. If it already exists, you can also just set the "),_("em",[e._v("cmake")]),e._v(" variable in the build folder.")]),e._v(" "),_("p",[e._v("For subsequent incremental builds "),_("code",[e._v("EXTERNAL_MODULES_LOCATION")]),e._v(" does not need to be specified.")])])}),[],!1,null,null,null);t.default=a.exports}}]);
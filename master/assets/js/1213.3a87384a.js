(window.webpackJsonp=window.webpackJsonp||[]).push([[1213],{2575:function(t,e,a){"use strict";a.r(e);var r=a(18),o=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"模拟故障保护"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模拟故障保护"}},[t._v("#")]),t._v(" 模拟故障保护")]),t._v(" "),a("p",[a("RouterLink",{attrs:{to:"/zh/config/safety.html"}},[t._v(" Failsafes ")]),t._v(" 为了您可以安全地使用 PX4，定义安全限制/条件，以及触发故障安全时将执行的操作（例如，着陆，保持或返回指定点）。")],1),t._v(" "),a("p",[t._v("在 SITL 中，默认情况下会禁用某一些故障，以便方便模拟使用。 本主题说明如何在实际世界中尝试 SITL 仿真之前测试安全关键行为。")]),t._v(" "),a("p",[t._v("默认情况下启用 "),a("em",[t._v("数据链路丢失")]),t._v(" 故障保护（无法通过 MAVLink 获取外部数据）。 这使得模拟仅适用于连接的 GCS，SDK 或其他 MAVLink 应用程序。\n:::")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("The "),a("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#sitl"}},[t._v("SITL parameters")]),t._v(" allow you to simulate other common sensor failure cases that are not covered here, including: loss of barometer, gyro and accelerometer, increased GPS noise etc.")],1)]),t._v(" "),a("h2",{attrs:{id:"数据链路丢失"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据链路丢失"}},[t._v("#")]),t._v(" 数据链路丢失")]),t._v(" "),a("p",[a("em",[t._v("RC 链接损失")]),t._v(" failslafe （来自远程控制的数据不可用） 被默认启用。 这使得模拟仿真只能使用 MAVLink 或远程控制连接。")]),t._v(" "),a("p",[t._v("将参数 "),a("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#NAV_RCL_ACT"}},[t._v("NAV_RCL_ACT")]),t._v(" 设置为所需的故障保护操作，以更改行为。 例如，设置为 "),a("code",[t._v("0")]),t._v(" 禁用它。")],1),t._v(" "),a("p",[t._v("模拟仿真的电池永远不会耗尽电量，并且默认情况下仅耗尽其容量的 50％ 会发送电压报告。 这可以在 GCS UI 中测试电池指示，而不会触发可能中断其他测试的低电池反应。")]),t._v(" "),a("h2",{attrs:{id:"rc-链接损失"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rc-链接损失"}},[t._v("#")]),t._v(" RC 链接损失")]),t._v(" "),a("p",[t._v("The "),a("em",[t._v("RC Link Loss")]),t._v(" failsafe (unavailability of data from a remote control) is enabled by default. This makes the simulation only usable with either an active MAVLink or remote control connection.")]),t._v(" "),a("p",[t._v("Set the parameter "),a("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#NAV_RCL_ACT"}},[t._v("NAV_RCL_ACT")]),t._v(" to the desired failsafe action to change the behavior. For example, set to "),a("code",[t._v("0")]),t._v(" to disable it.")],1),t._v(" "),a("p",[t._v("为了模拟丢失和重新获取 GPS 全球定位系统信息，您可以停止/重新启动 GPS 驱动程序。\n:::")]),t._v(" "),a("h2",{attrs:{id:"低电量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#低电量"}},[t._v("#")]),t._v(" 低电量")]),t._v(" "),a("p",[t._v("The simulated battery is implemented to never run out of energy, and by default only depletes to 50% of its capacity and hence reported voltage. This enables testing of battery indication in GCS UIs without triggering low battery reactions that might interrupt other testing.")]),t._v(" "),a("p",[t._v("To change this minimal battery percentage value change "),a("a",{attrs:{href:"https://github.com/PX4/PX4-Autopilot/blob/9d67bbc328553bbd0891ffb8e73b8112bca33fcc/src/modules/simulator/simulator_mavlink.cpp#L330",target:"_blank",rel:"noopener noreferrer"}},[t._v("this line"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[t._v("To control how fast the battery depletes to the minimal value use the parameter "),a("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#SIM_BAT_DRAIN"}},[t._v("SIM_BAT_DRAIN")]),t._v(".")],1),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("By changing this configuration in flight, you can also test regaining capacity to simulate inaccurate battery state estimation or in-air charging technology.")])]),t._v(" "),a("h2",{attrs:{id:"gps-损失"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gps-损失"}},[t._v("#")]),t._v(" GPS 损失")]),t._v(" "),a("p",[t._v("To simulate losing and regaining GPS information you can just stop the publication of GPS messages. This is done by running the "),a("code",[t._v("param set SIM_GPS_BLOCK 1")]),t._v(" and "),a("code",[t._v("param set SIM_GPS_BLOCK 0")]),t._v(" commands on your SITL instance "),a("em",[t._v("pxh shell")]),t._v(" to block and unblock messages respectively.")])])}),[],!1,null,null,null);e.default=o.exports}}]);